{"version":3,"sources":["..\\..\\..\\typecheck\\existing.ts","..\\..\\..\\utils\\cloneFastBinaryIndexedTree.ts","..\\..\\..\\utils\\ensure.ts","..\\..\\..\\utils\\expandFastBinaryIndexedTree.ts","..\\..\\..\\utils\\nothing.ts","..\\..\\..\\layouts\\ListLayoutImpl.ts","..\\..\\..\\rxjs\\applyMiddleware.ts","..\\..\\..\\rxjs\\createPublishers.ts","..\\..\\..\\rxjs\\createSubjects.ts","..\\..\\..\\rxjs\\createDispatcher.ts","..\\..\\..\\rxjs\\Pipe.ts","..\\..\\..\\typecheck\\isFalse.ts","..\\..\\..\\typecheck\\isTrue.ts","..\\..\\..\\typecheck\\isFunction.ts","..\\..\\..\\utils\\assume.ts","..\\..\\..\\utils\\publishAll.ts","..\\..\\..\\utils\\Pulse.ts","..\\..\\..\\utils\\statics.ts","..\\..\\..\\utils\\forDuration.ts","..\\..\\..\\utils\\nextAnimationFrame.ts","..\\..\\..\\view\\tween-here\\calcOutline.ts","..\\..\\..\\view\\hasStyle.ts","..\\..\\..\\view\\tween-here\\calcOutlineOrigin.ts","..\\..\\..\\view\\tween-here\\calcTransform.ts","..\\..\\..\\view\\tween-here\\Tween.ts","..\\..\\..\\view\\tween-here\\tweenHere.ts","..\\src\\functions\\calcFocusOffset.ts","..\\src\\functions\\calcSegments.ts","..\\src\\functions\\projectScroll.ts","..\\src\\functions\\updateLayoutIfNecessary.ts","..\\..\\..\\react\\measure\\measuring.tsx","..\\src\\MeasuredSegment.tsx","..\\InfiniteList.tsx","..\\..\\..\\utils\\getRandomIntInclusive.ts","SegmentExample.tsx","InfiniteList.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,kBAA4B,KAAkB;IAC1C,OAAO,OAAO,KAAK,KAAK,WAAW,IAAI,KAAK,KAAK,IAAI,CAAA;AACzD,CAAC;AAFD,ACAA,4BDEC,yCCF2D;ADG5D,ACDA,ACFA,qBFG+B,KAAe,UCDH,MAA6B,QCFvB;AAEjD,IFEI,ACDA,IAAM,GDCC,CAAC,ECDI,ECDU,CDCP,GDCC,CAAC,ACDE,ACDkB,EAAE,GFEjB,CAAC,CAAA,OEF+B,oBDCd,CAAC;ADE7C,AGLA,CHKC,GEFG,IDCI,GCDG,aDCa,EAAE,MAAM,CAAC,ACDX,CAAC,KAAK,CAAC,IAAI,KDCgB,CCDV,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,ACHa,CDGZ,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAA;AFA3E,AECA,ACFA,CDEC,ODCO,MAAM,EAAE,MAAM,CAAC,MAAM,KDA5B,GGFG,MAA6B,EAC7B,aAAqB;ADFzB,AEFa,IDMT,CFAC,CAAC,CAAA,CGNO,OAAO,EDMH,CCNe,EDMZ,ECNgB,CAAA,CFInC,ACEuB,CAAC,KAAK,CAAC,aAAa,CAAC,CAAA;IFEzC,AEDA,IAAI,EFCE,CAAC,OAAO,CAAC,EEDE,IAAI,CAAC,iBFCA,MAAM,CAAC,OAAO,CAAC,CAAC,CAAA;IACtC,IEDI,EFCE,CAAC,IEDG,OFCQ,CAAC,GAAG,MAAM,CAAC,WAAW,CAAC,CAAA;AIT7C,IJWI,AEDA,IAAM,GFCC,MAAM,AEDE,CFCF,EEDK,IAAI,qBAAqB,CAAC,uBEVY;AAC5D,ACEA,ALSA,CAAC,OEDO,MAAM,EAAE,MAAM,CAAC,EGPnB,IHOyB,EGPH,CHOM,CGPJ,KAAe,OHOE,KEVI;AACjD,AJAA,IKII,IHMI,GGNG,MAAM,CAAC,IAAI,CAAC,CHMC,EAAE,GGNG,CAAC,EHME,CAAC,gBAAgB,eFAhD,kBIV6E;AAC9E,AEDA,KJWK,CAAC,CAAA,EGNG,GAAG,CAAC,UAAA,GAAG,ACLmC,QAAqB,QFClC;AACtC,IEDI,AJYA,IGRgB,EHQV,CIZC,AJYA,IGRS,ECJH,CAAC,EJYE,CAAC,CIZC,CAAC,CJYC,CGRF,GAAC,GAAG,ACJK,CAAC,CJYC,CAAC,CGRL,KAAK,CAAC,EHQQ,CGRL,AHQM,CGRL,AHQK,CGRJ,MAAM,CAAC,GAAG,CAAC,CAAC,KAAE,qBDH0B;AAChF,AGLA,ILgBI,IAAI,CIZC,GAAG,CAAC,CJYC,CAAC,MAAM,CAAC,CIZT,GAAG,CJYW,SAAS,CAAC,GKhBD,GLgBO,CEXH,AFWI,EAAE;AER9C,AGLA,IFIoB,CAAkC,CAAC,ECHnC,AJaZ,MAAM,CIbM,AJaL,MAAM,CAAC,EKd2B,CDC3B,AJaG,GIbF,CCD2C,EDCxC,GJaQ,CIbL,AJaM,MAAM,CAAC,CAAA,EIbZ,KAAoB,IAAK,OAAA,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAzB,CAAyB,KAAE;AEJlF,IJqKI,AGjKA,CLcC,IGVI,EEJE,IFII,CAAC,CEJC,CAAC,IAAI,CAAC,GFIN,ED8JQ,AGlKG,CAAC,CFIR,EAAE,IAAI,IAAK,CD8JU,EACjB,IC/JO,GD+JmB,EAC1B,CChKa,AGRW,CHQV,MAAM,CDgKc,AChKb,EDiKrB,ECjKyB,EAAE,IAAI,CAAC,EAAzB,CDiK0B,ACjKD,CAAQ,CDkKxC,AClKwC,cDkKH;ACjK9D,AGRA,ANkBA,CGVC,AHUA,GIfmB,CAA8D,CAAC,EFkK1D,CGjKhB,GAAG,CAAC,UAAA,GHiKyB,AGjKtB,GHiKS,aAAa,CAAI,YIrKS;ACItC,AJFb,AGDA,ANAA,QEqKyB,AKlKZ,AFAO,CDAX,GGAQ,GAAG,AHAL,ACAK,CDAJ,IFkKgB,GAAP,EKlKD,AFAF,CDAL,ECAM,EHkKS,AElKX,CFkK8B,AGlKzB,CDAH,GGA0B,AFApB,CDAF,GGA0C,AFApC,CDAD,EDI/B,IIJoE,CHArC,IEHe,EFGT,CAAC,EGAwC,AFAvC,EEA6B,AFA3B,CEAqC,CAAA,AHAlC,CAAC,ECAF,EDAM,CJcjD,CIdmD,IAAI,CAAC,EAAzB,CAAyB,CAAQ,CAAA;AECjE,AFAA,CAAC,OFkKwB,cAAS,GAAT,CIjKrB,QJiK8B,CAAyB,CIjKzB;AFLlC,AIFA,IFSI,ADJgB,CAAwB,CAAC,EHoKpB,AIhKf,QAAQ,CETM,EFSH,GETa,GNyKG,GAAZ,YAAY,CAAqB,GEnKzD,MEGkC,CAAc,UAAU,CAAC,CAAA;IACxD,AETA,INyKqB,CGpKhB,ECIE,AETA,IHKI,CAAC,AGLA,CFSC,CAAC,GETG,GFSG,CAChB,CDLS,AGLS,CNyKa,AI/J9B,AEViB,GNyKD,AGpKJ,EAAE,ECKP,EAAE,ADLS,IAAK,IHoKO,CAAuB,EGpK9B,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,ICKlB,ADLsB,CCKR,ADLS,EAAzB,CAAyB,CAAQ,CAAA,GCKT,CAAC,EAAC,EAClD,iCAAe,CAAc,QAAQ,EAAE,UAAU,CAAC,CACrD,CAAA;AACL,ADPA,AGLA,ACFA,CHcC,ADPA,AGLA,GNyKM,CAAC,WO3Ke,KAAU;AHMjC,ADHA,AGHA,INSkB,AORd,OAAO,KAAK,KAAK,IPQG,AORC,CDCxB,ACDwB,EPQrB,UAAqB,EGFxB,ICOA,CJL0D,EAClC,aAAuB,EACvB,OAAgD;AQXzE,ADEA,CAAC,OPQwB,YQVE,CAAM,iBRUR,EAAA,mBAAuB;AOVhD,ICCI,IRUqB,GQVd,OAAO,CAAC,KAAK,ADCvB,QPSwB,EAAA,AQVS,CAAA,aRUkC,GAAG,EAAE;AQTzE,CAAC,ORUO,IAAM,SAAS,GAAG,IAAI,GAAG,EAAE,CAAA;AQZnC,ACAA,QTaQ,OAAO,CAAC,OAAO,CAAC,QQXvB,ERWwB,EAAE,EAAE,KAAK,OSbe;AACjD,ACDA,YVcY,IAAI,IUd6B,KVcpB,AUd4B,CVc3B,CUd6B,EVc1B,CAAC,EAAE,CAAC,EUd0D,mBDCzC;AAClD,ICDI,MAAM,CAAC,IAAI,CVcC,AUdA,MVcM,EUdE,CAAC,CVcC,AUdA,OAAO,CAAC,GDCD,OCDC,GAAG,GVca,CAAC,AUdV,EVcY,CAAC,CAAA,GUdb,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAzB,CAAyB,CAAC,CAAA;ACAxD,AFKX,ACJA,CAAC,OCDU,IXeC,CWfI,GAAU,IAAI,CXeT,AWfS,CXeR,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,CAAA;AUhBpC,IDM0B,ITWlB,CAAC,CAAC,CAAA,SSX+E,YCJxF;AEFD,QZmBQ,CSbkB,GTaZ,OSb2E,EAA/D,KTaE,GAAG,IAAI,SSbsD,EAA/D,IAA+D,EGNxC,iBZmBO,CAAC;AYlBzD,QHK0B,ITcd,gBAAgB,EAAE,KSd2D,EGLxD,MZmBU;AYjB3C,YZkBY,KYlBY,CZkBN,EAAE,EYlBwB,KZkBjB,CAAC,MAAM;ISd9B,AGHA,IHGM,CTeD,CAAC,CAAA,AYlBC,CHGG,GAAG,CGHD,CAAC,IHGM,CAAC,CGHD,CAAC,IHGM,CAAC,KGHN,CHGY,EGHT,CHGY,CAAC,AGHX,CHGY,CAAA,EGHR,IAAK,OAAA,GAAG,GAAG,IAAI,EAAV,CAAU,EAAE,CAAC,CAAC,CAAA;AACrD,CAAC,GHGG,ITgBI,AShBE,ITgBI,MShBM,GAAG,GTgBG,GAAG,AShBA,CAAC,GTgBG,EShBE,CTgBC,AShBA,CAAC,CTgBC,CAAA,AShBC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;AGLzD,IHMI,ITgBI,AShBA,CAAC,MTgBM,CAAC,OAAO,CAAC,EYpBvB,MHIkB,CAAC,CTgBK,GShBD,CAAC,ETgBM,EAAE,AShBJ,ETgBM,QShBI,CAAC,MAAM,GAAG,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,sBAAW,CAAC,EAAE;AGFpF,QHGQ,ITgBI,GShBG,CTgBC,CAAC,IYnBW,KZmBF,AYnBsB,CZmBrB,GAAG,CAAC,CShBT,CTgBW,AShBX,CTgBY;Aa1BlC,IDQI,CHGC,GGHG,KAAK,CAAC,EZmBE,IYnBI,CCRc,Eb2BZ,EYnBG,CAAC,GCRoB;IJY1C,IGHI,GHGG,CTgBC,GShBG,AGHA,SZmBS,CAAC,GAAG,CAAC,EAAE,CYnBT,CZmBW,AYnBX,MZmBiB,CAAC,CAAA,MShBrB,UAAU,GAAC;AAC9B,AKbA,ACAA,CNaC,GGHG,OAAO,CZmBC,MYnBM,AGVA,CHUC,KAAK,CAAC,CZmBC,CAAC,CYnBC,KAAK,CAAC,IZmBI,CAAC,CYnBC,CAAA,OZmBQ,CAAC,GAAG,CAAC,EAAE,CAAE,EAAE,MAAM,CAAC,CAAA;ASvBlE,AGKA,CAAC,OZmBO,CAAC,CAAC,CAAA,Ca7BN,YJYH,UIZU,IAAI,OAAO,CAAO,UAAC,IAAI,IAAK,OAAA,UAAU,CAAC,IAAI,EAAE,QAAQ,CAAC,EAA1B,CAA0B,CAAC,EAAA;ADMlE,AGLA,Qf8BQ,OAAO,IAAI,Ee9BS,GAAY,Sf8BP,CACrB,AYtBX,aZsBwB,mBACT,OAAO,GACX,SAAS,EACT,YAAY,EACZ,cAAc,CACjB,CAAA;AYzBT,IZ0BI,AepCA,CfoCC,GepCK,IDFN,ACEU,GAAG,GAAG,CAAC,OHUY,KAAoB,GEZ1C,IAAI,ECE2B,EAAE,CAAA,EDFtB,CAAC,UAAA,OAAO,IAAI,OAAA,qBAAqB,CAAC,OAAO,CAAC,EAA9B,CAA8B,CAAiB,EAAC;CDCjF,GbuCU,AY3BP,AGTO,IHSD,AGTC,OHSM,GAAG,QGTJ,EAAE,CHSa,CAAC,KAAK,CZ2BnB,AY3BoB,CAAA,EZ2BlC,SepCoB,CfoCL,AepCa,EfoCC;AazCjC,IDeI,AGTA,IfoCI,AY3BA,AGTE,CAAC,GfoCC,AepCE,CHSD,CAAC,EZ2BE,AepCE,CfoCD,AepCE,GHSC,CZ2BC,AepCE,CAAA,GHSE,CZ2BC,AY3BA,CZ2BC,EAAE,CY3BC,ICb7B,kBDawC,CAAC,OAAO,CAAC;CEbjD,GCKG,IHSI,AGTE,CAAC,GfmCoB,AenCjB,GHSC,CGTG,CAAC,EfmCmB,CenChB,CAAA,WHSA,CAAA,GZ0BuB,CAAA;Ac1C7C,AEAA,IJiBI,AGRA,IHQM,CZyBqC,EejCpC,EAAC,CHQI,AGRH,GHQM,AGRN,EAAE,CAAC,EHQQ,CAAC,AGRT,EAAE,EHQW,CAAC,EGRP,OAAA,CHQQ,CAAC,AGRP,EHQS,CAAC,GGRJ,CHQS,EEfvC,EEFgD,GJiBT,AGRT,EAAC,CAAA,CHQY,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,EAA7C,CAA6C,CAAC,CAAA;AIftF,ADQA,CAAC,GHQG,IZyBI,GYzBG,CZyBG,KAAK,AYzBF,CAAC,AIhBO,CJgBN,CZyBG,AYzBF,CAAA,EIhByB,ChByCnB,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAA;AYxB5C,AGjBA,CHiBC,GIhBG,IhByCI,GgBzCG,ChByCC,AgBzCA,CAAC,KAAK,KAAK,MAAM,IAAI,ChByCV,AelCtB,CfkCuB,GgBzCc,EhByCT,CAAC,EAAE,AgBzCW,EAAE,IAAI,sBAAW,CAAC,KAAK,CAAC,CAAC,CAAC;AJUrE,AITA,ACJA,CDIC,WhBwCiC,OAAO,iBAAO,CAAA,OYzB/C,mIKnB+D;ALqBhE,AInBA,ACDA,SjB2CkD,cYvBpB,KAAoB,AIjBjD,+ICH0D;AAC3D,ILoBI,IZuBI,AYvBE,IZuBI,GYvBG,GZuBG,AYvBA,GZuBG,IAAI,CAAC,GYvBG,CAAC,KAAK,CAAC,CAAA,GZuBI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,gHiB3CD;AACrD,ILoBI,IZuBI,AYvBA,IZuBM,CYvBD,CAAC,IZuBM,EYvBA,CZuBG,IAAI,AYvBF,CZuBG,AYvBF,IAAI,UZuBY,AiB3CN,CjB2CO,UAAU,CAAC,AYvBb,CAAC,IZuBiB,CAAC,CAAA,CYvBX,CAAC;AKnBlD,QjB2CQ,AYvBA,OZuBO,AYvBA,EZuBC,EAAE,IAAA,EAAE,KAAK,EYvBH,CAAA,IZuBG,EAAE,MAAM,AiB3CQ,QjB2CR,EAAE,MAAM,QAAA,EAAC,CAAA;AiBzC1C,IjB0CI,AYvBA,CZuBC,MYvBM,OKnBO,ILmBI,CAAC,KAAK,CAAC,GAAG,CAAC,UAAA,GAAG,IAAI,OAAA,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,OAAO,CAAC,EAAvB,CAAuB,CAAC,CAAC,CAAA;AACjE,AKnBA,CLmBC,GZwBU,uBiB3CuB,GAAY,SjB2CzB,GAAjB,UAAkB,KAAa;AY7BnC,IKbI,IjB2CI,AiB3CA,IjB2CI,GiB3CG,CjB2CC,CAAC,CiB3CU,GjB2CN,KAAK,CAAC,EAAE,SYzB5B,KKlBqC,CAAC,GAAG,CAAC,CAAA;IAEvC,IAAM,IjByCqB,OAAO,CiBzChB,GAAG,MAAM,CAAC,MjByCa,CAAA,SiBzCG,CAAC,GAAG,CAAC,CAAC,SAAS,CAAA;ACV/D,IDWI,IAAI,CjBwCuC,kBiBxC/B,CAAC,YAAY,CAAC,EAAE,sHCXiB;AACjD,QlBmDQ,AiBxCO,IjBwCD,AiBxCC,EjBwCC,GAAG,IAAI,CAAC,GiBxCR,EAAE,EjBwCa,CAAC,KAAK,CAAC,CAAA,GiBxCnB,EAAE,qBAAK,EAAE,uBAAM,CAAW,gFCXY;AACzD,QlBmDQ,AiBxCA,IjBwCI,AiBxCE,SAAS,GAAG,UjBwCH,CAAC,EAAE,CAAC,EAAE,qEiBxCO,CAAC,YAAY,CAAC,CAAA,6CCXO;AAEzD,QDUQ,IjBuCuB,AiBvCjB,OjBuCwB,CiBvChB,GAAG,ACVK,IAAa,ClBiDI,CAAA,AkBjDF,EAAW,uEDUxB,CAAC,SAAS,CAAC,CAAA;AEd3C,IDKI,IDUU,ACVJ,ClBgDuC,GiBtCnC,ICVI,GAAG,UAAC,IAAa,WCLW,+IFgB8B,EAD7D,eAAO,EAAE,mBAAW,CACyC;AEd5E,QnBoDQ,AiBrCA,ACXA,IlBgDM,GiBrCC,ACXA,GlBgDK,AiBrCF,GjBqCK,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;ImBzClD,InB0CI,IAAM,AiBrCF,ACXA,CDWC,ACXA,EDWE,ACXA,GlBgDK,CmBzCI,ADPL,CAAC,ClBgDG,AkBhDF,CDWC,CEJc,AFIb,CAAC,ACXA,ClBgDG,AmBxCH,CnBwCI,EkBhDA,CAAC,ICQO,CDRF,CCSV,EDTa,GlBgDK,AkBhDF,ClBgDG,AmBvCL,UnBuCe,CAAC,KAAK,CAAC,CAAA;AoBvD5D,QpBwDQ,AmB1CgB,IFKZ,ACXA,CDWC,ACXA,ElBgDE,AiBrCA,ACXA,ElBgDC,AmB1CY,EnB0CV,AkBhDC,CCMK,ADNJ,CAAC,CDWC,CjBqCJ,AiBrCK,CELK,AFKJ,ACXA,ClBgDJ,AmB1CgB,GDNR,CAAC,ClBgDJ,KkBhDU,ElBgDV,CkBhDa,ClBgDX,EkBhDc,IlBgDR,QAAA,EAAE,MAAM,QAAA,EAAC,CAAA,6FoBxDW;AACrD,ACDA,IrByDI,CAAC,GmB1CmB,CDNf,CAAA,EDWG,KAAK,EAAE,EELa,EFKT,CELC,AFKA,GAAG,CAAC,IELI,CAAI,MFKG,CAAC,CAAC,GAAG,OAAO,AIpBJ,CJoBK,CAAC,CAAC,iHGnBF;AACpD,ACAA,IrByDW,AkBjDP,CAAC,CAAA,ECMmB,IFKZ,MAAM,CELY,CFKV,EELI,EFKA,CAAC,AInBO,GFcF,AFKF,CELU,AFKT,OInByB,EAAE,EJmBhB,CAAC,CAAC,EjBsChB,CiBtCmB,EjBsCzC,KiBtCgD,AInBsB,CJmBrB,AGnBJ,CHmBK,CAAC,EjBsC5B,IAAY,EAAE,EAAU;AoBxDnD,AEFA,IJUI,AGRA,IrByDI,AmB1CA,ADPE,CDWD,CAAA,CInBE,CrByDC,AmB1CA,CAAC,GnB0CG,CAAC,CmB1CC,ADPE,GlBiDC,AmB1CA,ADPE,ICOE,CnB0CC,AmB1CA,AEfT,CrByDU,AqBzDL,ErByDO,AmB1CA,ADPE,CAAC,CCOD,CAAA,EDPK,CAAC,CAAA,EGRJ,EAAE,cAAc,GDAI,ACAD,CAAC,CAAC,ACFE,CDEF;ADCtD,ACAA,ACDA,CDCC,GHQG,AITE,CLoBD,GEJG,ADPE,IlBgDoB,AmBzClB,AGhBE,CHgBD,EGhBI,CJSC,CITC,CAAA,CtByDkB,AkBhDhB,ElBgDkB,CAAA,EmBzCf,GAAG,ADPE,CAAC,EAAE,CAAC,CAAA,OCOM,CAAC,KAAK,CAAC,IAAI,EAAE,GCfD,GDeO,CAAC,CAAA;ACd3D,ACHA,ACGA,ACJA,IJmBI,AFKA,ACXA,CCMC,GDNK,ClB8C8B,EiBnC7B,GCXK,GAAG,CDWD,CAAA,GKpBW,MAAU,EAAE,OAAW,EACvB,GDF5B,GCEsC,EAAE,MAAkB,MCLD,UHIO,+BFSrC,CACpB,mFAAS,CAAC,QAAQ,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,EAC/D,2EAAK,CAAC,EAAE,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CACxD,CAAA;ADSL,AGpBA,AGJA,CNwBC,GEvBG,ADgBA,AIZA,ItBsDI,AsBtDE,GJYC,ClB0CG,IsBtDI,CJYD,CAAA,CIZ6B,CtBsDxB,CsBtD0B,CAAA,CtBsDvB,GmB1DjB,YnB0DuB,CAAmB,IAAI,CAAC,CoBvDd,MGJM,GvB2DkB,CAAC,AmB1DhD,InB0DoD,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC,CAAE,CAAC,CAAA;AiBtD7F,ACaA,AEbA,AGHA,ACHA,CNmBC,GIXG,ItBqDI,AsBrDE,ItBqDI,CmB3DV,GGMc,EtBqDE,CsBrDC,EtBqDE,EuB1DO,EDKH,CAAC,GCLY,EAAE,KvB0Db,CAAmB,AsBrDT,CAC/B,GtBoD4C,CAAC,AsBpDzC,ACN6C,CDM5C,CCN8C,ENsB1D,AKhBe,CACJ,CCP+D,EAAE,CDO7D,CtBmD+C,AsBnD9C,ACP0E,CvB0D3B,EAAE,AsBnD9C,CtBmD+C,AsBlDnD,CFLqC,CpBuDgB,CwB7Dd,GxB6DkB,AsBlDnD,CtBkDoD,EsBlDjD,MAAM,EtBkDqD,AsBjDpE,CtBiDqE,IAAI,CAAC,AsBjDpE,GAAG,CtBiDqE,GAAG,CAAC,CAAE,CAAC,AsBjDrE,CtBiDqE,AsBhDxF,EACD,CAAC,CACJ,CACJ,CAAA;AJbL,AEIA,AINA,IFgBI,ACbA,IvB0DI,AsB7CE,ACbA,IvB0DI,AmB3DC,AICD,GDaG,ACbA,CJDF,EGcK,CtB6CC,AuB1DA,CAAC,EvB0D2B,EAAE,AsB7CzB,CtB6CyB,AsB7CxB,MCbM,CAAC,IDaI,CAC9B,CJCP,AKfuC,EJDjB,CAAQ,AGenB,ACd+B,CDc9B,GAAG,CACJ,GFZiC,CEY7B,CAAC,AElB8B,CDGO,CAAC,CDenC,ACfmC,CDgBvC,MAAM,GAAG,MAAM,GAAG,MAAM,EACxB,MAAM,GAAG,MAAM,GAAG,OAAO,CAC5B,EACD,MAAM,CAAC,WAAW,CACrB,CACJ,CAAA;AFjBL,AIJA,IFsBI,ACrBA,IvB0DI,AsBrCA,ACrBE,IJDF,AICM,CvB0DD,EuB1DI,EvB0DA,CAAC,CmB3DH,EnB2DM,MmB3DE,AGsBP,CAAC,CtBqCY,CAAC,AuB1DP,CAAC,CJDI,CAAC,ACIA,AIJW,CLAX,CnB2DM,AuB1DP,CDqBH,CtBqCY,AsBrCX,ACrBI,CvB0DQ,GsBrCR,CtBqCY,CwB3DoB,EACtB,EDAV,CvB0DkB,CAAC,EuB1Df,GvB0DoB,CuB1DhB,CvB0DkB,CAAC,EAAE,CsBrCrB,CtBqCuB,AsBrCtB,AErBkD,CDAnD,CCCE,CDDA,CAAC,GDqBK,CAAC,CEpB8B,CFoB5B,CCrBD,CAAC,IAAI,CAAC,EAAE,CAAC,EAAnB,CAAmB,CAAC,CAAA;AHK1D,IGJI,ACCA,ILFA,AGsBI,ACrBA,ACCA,CLFH,GnB2DO,AsBrCE,KEpBG,ExByDE,AoBrDf,CpBqDgB,AwBzDA,CFoBG,GtBqCC,AsBrCE,CtBqCD,CoBrDD,EACpB,AEe0B,CtBqCD,AsBrCE,CtBqCD,AuB1DX,ACCW,CDDV,ACCU,CJKuD,EACjF,AEcgC,CAAC,ACrBb,CAAC,IvB0De,AuB1DX,CvB0DY,CAAC,AoBnDuB,CpBmDrB,AsBrCC,CtBqCA,AoBlDzC,AEa0C,CtBqCD,IsBrCM,CFblB,EEaqB,QAAQ,CAAC,CCrBvB,CAAC,CDqByB,GCrBrB,CAAC,IDqB4B,CAAA;IFftE,AIHA,IFmBI,ACrBA,ACEE,CxBwDD,GsBrCK,GCrBC,IDqBM,ECrBA,CDqBG,ACrBH,GHKjB,AIHuB,CFmBC,CFhBxB,AEgByB,CEnBC,EFmBE,CACpB,IAAI,AEpBqB,CFoBpB,AEpBqB,IFoBjB,AEpBqB,CFoBpB,AEpBqB,GJGwB,IEiBtC,CAAC,EFjB4C,AIH/B,GFoBR,CFjB2C,EEiBxC,AEpBW,KJG6B,GEiBhC,CAAC,GFjBsC,AEiBnC,EFjB4B,CAAO,KEiB3B,EAC9C,MAAM,CAAC,IAAI,GAAG,CAAC,CAClB,CAAA;IFlBL,AGLA,IvB0DI,AsBlCA,ACxBE,ACEF,KFsBK,EtBkCE,AwBxDP,EFsBS,IEtBH,CxBwDQ,AsBlCA,AEtBP,CxBwDO,EsBlCG,GEtBJ,CJGjB,AGL2B,EHK3B,CGL8B,CCER,CFsBQ,EAAE,ECxBI,GDwBC,ACxBE,IHKsB,AEmBpB,GEtBb,CAAC,GFsBmB,ACxBE,EDwBA,CCxBG,GCEf,CFsBiB,ACxBE,ACElB,CDFmB,CDwBD,EAAE,GCxBK,ACElB,CDFkB,ACEjB,MAAM,CAAC,EAAE,CAAC,EAAE,UAAA,EAAE,IAAI,OAAA,EAAE,CAAC,MAAM,EAAT,CAAS,CAAC;IxByD3E,AoBrDA,AGLA,ACCI,CxByDH,AwBzD0E,CAC1E,CLNA,AKMA,CDFK,IDwBE,QAAQ,CAAC,IAAI,CAAC,CFnBtB,EAAA,AGL2B,GDwBC,ACxBE,CDwBD,ACxBE,MHKb,CAAC,EAAE,CAAC,AEmBiB,CAAC,CFnBhB,CAAC,EAAE,CAAC,AEmBiB,CFnBhB,AEmBkB,CAAC,CAAA,ECxBI,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAA;IvB4D1E,AmB9DP,AIGA,ACEA,IAAI,CFsBC,ECxBE,IAAI,CAAC,MAAM,GAAG,ACEA,CLLjB,AIGkB,CCEC,UDFU,GvB2Df,AuB3DkB,GvB2DpC,SmB9DW,CnB8DQ,QAAY,AuB3D0B,CAAC,CAAA;AAC9D,CAAC,IDwBI,GtBmCG,AwBzDA,IxByDI,CmB/DR,GnB+DY,CAAC,AwBzDA,GAAG,CxByDC,KAAK,CAAC,EAAE,AwBzDA,CAAC,KAAK,EAAE,CAAA;ADVrC,IDkCI,IEvBI,GFuBG,CtBiCoB,AmB9DjB,IAAA,CKMG,CAAC,CxBwDoB,AsBjCnB,CAAA,IEvBK,CLNa,AKMZ,ELNV,CnB8DgC,CAAA,GwBxDf,CAAC,CAAA,IDHhC,WJHsB,EAAE,cAAI,CAAQ;AG8BrC,CAAC,IEvBI,IxBuD4C,GmB7DzC,OAAO,YAAY,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;AGL3C,IEaI,IxBsDI,AmB7DJ,AKOI,CLPH,GnB6DO,KAAK,GAAG,IAAI,CAAC,EwBtDT,CAAC,QFqBhB,GtBiCsC,CAAC,IwBtDP,CAAC,EAAE,GxBsDc,CAAC,QAAQ,CAAC,CAAA;QACpD,AwBtDA,IxBsDM,KAAK,AwBtDF,GxBsDK,AoBxDZ,AIEU,KxBsDO,IoBxDR,AIEU,CxBsDG,AwBtDF,EJFR,EpBwDc,CAAC,AwBtDF,EAAE,CAAA,CxBsDI,CAAC,AoBxDZ,CpBwDa,AoBxDZ,CpBwDa,EoBxDV,CAAC,EpBwDc,GAAG,CAAC,CAAC,AoBxDZ,CpBwDa,AoBxDZ,CpBwDa,AoBxDZ,KpBwDiB,CAAA,oBoBxDS;QpByD9D,AwBtDA,IxBsDM,EAAE,GAAG,AwBtDF,CAAC,EJHyB,CpByDpB,AoBzDoB,CpByDnB,AwBtDF,CAAC,MxBsDQ,CAAC,KAAK,CAAC,CAAA,EwBtDC,CAAC,CAAA;KACnC,ELVA,CnBgEG,IAAM,MAAM,EoBzDV,CpByDa,IAAI,CAAC,CoBzDX,GAAG,UpByDsB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,EoBzDvB,CAAC,OAAO,CAAC,CAAA;IDIpC,AKCA,IxBqDI,GwBrDG,CxBqDG,MAAM,EoBxDhB,AIGgB,CxBqDG,AwBrDH,GJHb,CpBwDoB,CAAC,AmBtDZ,cnBsD0B,CAAC,EoBxD5B,CAAC,OpBwDqC,CAAC,CmBtD9B,ACFC,CAAC,GpBwDiC,CAAC,AoBxD9B,CpBwD8B,AoBxD7B,SAAS,CAAC,UAAU,EAAE;AIIrD,CAAC,OxBqDO,KmBvDJ,EnBuDW,EAAC,EAAE,IAAA,CoBxDV,CpBwDY,KAAK,CoBxDV,CAAC,KpBwDS,AoBxDJ,CAAC,CpBwDK,MAAM,GoBxDD,GAAG,EpBwDF,EAAE,EoBxDM,CAAA,GpBwDA,QAAA,EAAC,CAAA;AwBxE1C,IxByEI,CAAC,OmBvDS,IAAA,QCDN,CDC2C,EAApC,ICDA,CAAC,KAAK,CAAC,SAAS,GAAG,KDCR,CCDc,CDCZ,ACDY,CIEvC,eLDgC,EAAE,sBAAQ,CAAQ;InByDxC,QmBxDH,IAAM,GAAG,ECDZ,CDCmB,IAAI,CAAC,GAAG,EAAE,CAAA,YnBwDP,GAAvB,UAAwB,IAAQ,EAAE,EAAM;QACpC,IAAI,AmBxDJ,InBwDQ,AmBxDF,CnBwDG,GoBzDP,CpByDW,CoBzDT,EDCU,CCDP,CpByDW,CAAC,AmBxDF,EnBwDI,EmBxDA,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CCD3B,CAAC,CDC6B,GAAG,GCDzB,CAAC,CDC6B,ACD7B,CDC8B,GAAG,QAAQ,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,CAAA;AMzBjG,YzBiF8B,AmBvDtB,OnBuD6B,AmBvDtB,CCDX,CpBwDmC,CAAA,CmBvDpB,CAAC,ACDZ,GDCe,ACDZ,CDCa,CM1BM,GN0BF,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CCDxB,CDC0B,ACDzB,CDC0B,CAAC,CAAA,CCDvB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAA;AKxBtD,QN0BI,CnBsDoC,AmBtDnC,WCAK,SAAS,GAAG,IK1BgB,yBL0BH,CAAC,IAAI,EAAE,EAAE,CAAC,CAAA;AKzB7C,ACFA,Q1BkFQ,IAAM,QAAQ,AoBtDlB,GpBsDqB,I0BlFO,CN4BpB,GAAG,OpBsDgB,CAAmB,IAAI,CAAC,UoBtD9B,CpBsDyC,AoBtDxC,CpBsDyC,IAAI,CAAC,EAAE,AoBtDxC,CAAC,CAAC,CAAC,CpBsDyC,AoBtDxC,CpBsDyC,CyBhF1B,ML0BP,CAAC,EpBsD0C,CAAC,CAAC,AoBtDxC,CpBsD0C,CAAC,AoBtDzC,CpBsDyC,CoBtDvC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAA;AKzBnE,ACFA,Q1BkFQ,IAAM,MAAM,EoBtDhB,CpBsDmB,MoBtDZ,CAAC,CK1BkB,ACFC,IN4Bd,CAAC,EpBsDW,CAAmB,IAAI,CAAC,EoBtDzB,GAAG,MpBsDiC,AoBtD3B,CpBsD4B,AoBtD5B,EpBsD8B,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAE,CAAC,CAAA;AyB/EtG,ACDA,OPwBK,CnByDG,IAAM,OAAO,CoBtDjB,EpBsD6C,EAAE,CAAA,EoBtDxC,CAAC,KAAK,CAAC,SAAS,GAAG,OK1BgC,SCDO,8DN2BlC,CAAC,+EAAO,CAAC,SAAS,CAAC,CAAC,CAAA;AKzBvD,ACAA,IP0BA,InBsDQ,KAAK,GmBtDZ,CnBsDgB,CAAC,EoBtDR,CpBsDW,QAAQ,AoBtDV,CpBsDW,EoBtDR,GpBsDa,CoBtDT,CpBsDW,CAAC,IAAI,KyBhFC,CzBgFK,CAAC,AoBtDlB,CAAC,IpBsDsB,EAAE,A0BhFJ,C1BgFK,EAAE,AoBtDlB,EpBsDoB,AoBtDlB,QAAQ,EAAE,MAAM,CAAC,CAAA;AKxB5D,ANwBA,AOvBA,CPNA,AA6BC,IAAA,OnBuDW,OAAO,CAAC,AoBtDhB,IpBsDoB,CAAC,GoBtDb,CpBsDiB,AoBtDhB,CpBsDiB,EoBtDd,CAAC,OpBsDuB,AoBtDhB,CpBsDiB,CAAC,AoBtDhB,CpBsDkB,CAAC,CAAA,MoBtDV,CAAC,CAAA,SKzB4B;AAEhE,ANPa,IOMwB,K1B+E5B,UyB7EL,CLwBA,EDhCc,MMQF,aLwBN,MM1BqD,iCN0BnC,EAAE,EAAA;IKtB1B,ACWA,I1BiEI,OAAO,OAAO,CAAA,M0BjEN,KAAY;I1BkExB,CAAC,GyB7EiB,ACWlB,YNWA,AMVI,SNUsB,CAAA,QMVhB,CDZsD,ICYjD,CAAC,SAEf;AC1BL,I3B2FW,IyBzDH,ACnBI,YNoBR,CKDgB,GLCZ,EKD4C,ACnB5B,CCfQ,EDeL,GNoBX,CAAC,CpBwDD,EoBxDI,CpBwDhB,AoBxDiB,EMpBO,KNoBA,CAAC,AMpBS,E1B4ErB,GoBxDiB,SAAS,IpBwDL;A2B1FtC,Q3B2Fc,IAAA,AyB1DN,AClBA,IAAM,EAAE,G1B4EsE,A0B5EnE,E1B4EJ,CyBzDH,ALCJ,EMpBe,CAAC,ECfM,GDeD,CAAC,EAAE,CAAA,MDmBd,CzByDI,EAAE,CoBxDV,CKDS,CAAC,SAcf,YzB2CwB,EAAE,8BAAY,EAAE,gCAAa,EAAE,kCAAc,CAAQ;A2BzFtF,Q3B2FQ,IyBzDI,ACnBJ,IAAI,CDmBI,CAAC,ELAb,IpByDoB,EyBzDC,CzByDE,AoBzDhB,CAAC,CKAgB,IAAI,ALAf,CAAC,CMnBE,CAAC,KAAI,C1B4EQ,A0B5EP,C1B4EQ,CoBzDN,GAAG,AMnBA,CAAC,QCfqB,G3B2FH,EAAE,C0B5EN,CAAC,EAAE,EDmBH,CAC9B,ELAE,IpBwD+C,CAAC,CAAA,EyBxDjD,ALAS,OKAqB,EAAE,QAAwB,OLA5B,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,8BACzC,QAAQ,wBAAmB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,YAC1D,CAAA;AOnCL,Q3B0FQ,IAAM,IyBxDM,ACpBR,IDoBc,ALEtB,CMtBY,C1B4EQ,A0B5EP,IDoBe,CLErB,AMtBW,CNsBV,AMtBW,CDoBY,ILElB,CAAC,EKFwB,CAAC,CAAC,CAAC,CAAC,EzBwDf,A0B5EM,CNsBV,AMtBW,EAAC,CNsBT,CMtBW,E1B4EH,CAAC,CAAA,AyBxDkB,ACpBhB,CDoBiB,ALEtB,CAAA,AOpCa,ADcN,KDoBqB,CAAA,ACpBf,QAAA,EAAC,CAAC,CAAA;ACbnD,Q3B0FQ,IAAM,C0B5EL,GDoBW,IAAM,ALGtB,IpBqDsB,CyBxDK,EzBwDF,CyBxDK,GzBwDD,GAAG,CAAC,AyBxDI,CAAC,CAAC,CAAC,CAAC,ELGnC,GpBqDoC,A2B3EvB,C3B2EwB,CAAA,IyBxDS,CAAC,KAAK,CAAA,SLGzC,CAAC,QAAQ,CAAC,EAAA;AOrB/B,Q3B2EQ,A0B5EJ,CAAC,CAAA,E1B4ES,IyBxDM,IAAI,OzBwDK,GAAG,IAAI,GAAG,CAAC,CyBxDR,CAAC,KAAI,CAAC,IzBwDc,CAAC,AyBxDV,CzBwDU,AyBxDT,YEnBgB,EFmBF,CAAC,EAAE;AGzC7D,ADuBA,Q3B2EQ,A0BzEA,I1ByEM,C0BzEF,CAAC,MDiBW,ALCpB,CMlBgB,GAAG,CDiBK,CAAC,GzBwDE,AoBvDA,CAAA,CKDG,CzBwDA,AyBxDC,aCjBH,CDiBiB,ACjBhB,CDiBiB,GEnBJ,CDER,CAAC,CDiBiB,CAAC,CAAA,ICjBX,CAAC,CAAA,0B1ByEa,CAAC,O4BlGkC,O5BkGpB,CAAC,CAAA;A2B1E5E,Q3B4EQ,OAAO,EyBzDM,EzByDF,CoBxDf,IAAI,QAAQ,CpBwDiB,AoBxDhB,CpByDL,EoBzDQ,CAAC,OAAO,CAAC,KpByDD,AoBzDM,EpB0DtB,K2B9E8B,EPoBC,GpB0DrB,EACV,YAAY,EACZ,eAAe,EACf,iBAAiB,CACpB,CAAA;A4BxGT,ADwBA,I3BiFI,A0BjFA,C1BiFC,A0BjFA,WDkBe,IAAI,ILChB,OQ3C8B,GAAW,EAAE,GH0CnB,AG1C8B,CH0C7B,KAAI,CAAC,ALCxB,KKD6B,CAAC,WElBe,EFkBF,CAAC,EAAE;AEjB5D,I3BkFW,A4B1GP,AFMA,GENG,GAAG,IAAI,CAAC,IAAI,CH0CK,AG1CJ,AR2ChB,GQ3CmB,CAAC,CH0CI,AG1CH,CH0CI,CLClB,CAAC,GKDsB,CAAC,CzBgEpB,AoB/DE,CAAC,EpB+Dd,A0BpGM,GAAN,KNqCwB,CKDoB,CzBgEhC,AyBhEiC,CLClB,IKDuB,CAAC,CAAA,ALClB,CAAA,EpB+DgB,Q2BlFO;AAC5D,AE5BA,IDII,GAAG,C5B0GO,A0BpGA,EENJ,E5B0GI,A0BpGA,EENA,CAAC,EH0CM,GG1CD,AR2ChB,CpB+D8C,A4B1G7B,E5B0GN,C4B1GS,CAAC,CAAC,CFMY,CNqC1B,CAAC,AMrCE,MNqCI,CAAC,GMrCH,CCkBoB,AE5BI,CHUtB,ENqCQ,CAAC,CAAA,UpB+DA,EAAE,A0BpGN,CAAc,6B1BoGI,CAAQ;A2BhFlD,AE7BA,IDII,I5B2GI,A0BrGO,GENJ,C5B2GG,AyBjEE,ACpCD,CDoCE,CACJ,CAAA,AG3CE,CAAC,KAAK,CAAC,E5B2GI,E4B3GA,C5B2GG,A4B3GF,ECJI,E7B+GE,E4B3GA,C5B2GG,A0BrGd,CENa,AFML,C1BqGQ,CAAA,C4B3GA,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,ADyBJ,CCzBK,GAAG,GAAG,CAAC,CAAC,uDAAuD;AACrH,ADyBA,AG/BA,ADGA,CDGC,O5B2GO,A0BrGA,OAAO,G1BqGG,CAAC,OAAO,CAAC,E8BjHI,MJYf,E1BqGY,EAAE,EAAE,C0BrGT,I1BqGc,A0BrGb,EAAE,AGTkB,E7B8GF,A0BrGd,CCmBoB,CDnBlB,EAAE,G1BqGU,E0BrGL,EAAE,KAAK,EAAE,C1BqGQ,CAAC,GAAG,CAAC,EAAE,EAAE,I0BrGH,C1BqGQ,CAAC,A0BrGP,E1BqGpB,CAA2B,CAAC,A0BrGJ,C1BqGI,A0BrGH,YAAY,GAAG,CAAA;AEVlF,AD8BA,AG/BA,ADGA,IHSI,CAAC,G1BsGG,AyBlEA,CAAC,GzBkEK,eAAe,GAAG,IAAI,E8BlHC,C9BkHE,EAAE,CAAA,S2BnFK,KC1B7C,wBCFyE;AF6B1E,AG/BA,ADKA,IHsBA,I1BuFQ,AyBvGA,IzBuGM,c0BvFb,EDhBa,CzBuGiB,EyBvGvB,CzBuG0B,IAAI,S2BnFG,gBG/BO,S9BkHW,CAAC;A2BlF5D,ADLA,AI1BA,CV6CC,AMxCD,AAqBC,CArBoC,EGDD,GHCM,CAAC,I1B6G/B,AyBvGA,SCN4C,GAqBvD,I1BwF2B,EAAE,aAAa,E2BnFF,CE3BmC,ECJhC,gBLWoB;ALHhE,AOwBA,AD3Ba,AIHb,IDoCI,Q7B6EQ,AyBzGJ,MzByGU,EAAE,Q6B7EJ,CJZP,CzByFqB,AoBtE7B,CpBsE8B,E6B7EQ,I7B6EF,K0B9GT,KC2Be,IG9BI;AV6C/C,AOdA,ADDA,AI5BA,IV2CM,AMfA,AI5BA,IDkCF,C7B8EK,CAAC,CAAA,A0BpFG,CDnBD,ALkCE,EMfE,AI5BA,CV2C0B,CKlCxB,CKTmB,EV2CS,AU3CP,CAAA,ADmC/B,CJ1Be,GAAe,ELkCe,CMfvB,CNeyB,AMfxB,CNewB,CKlCX,CAAC,MAAM,CACnC,AIyBF,EJzBI,EACF,CIwBG,CHP4B,AGO3B,CHP4B,CDjB5B,CAAC,KAAK,CEkBuB,AEsB5C,CJvCW,EAAC,GAAG,EAAE,UAAC,EAAO,IAAK,OAAA,KAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAAlB,CAAkB,EAAC,CAClC,CAAA;AEiBpB,AG7BA,IJ4BI,CI5BC,G9BgHG,A0BpFA,AGOA,CCnCC,CJ4BC,AI5BA,ELaE,AIsBE,CCnCD,CAAC,EAAE,ADmCE,CCnCD,C9BgHC,CAAC,AyBnGA,AIsBE,CCnCD,ILaI,CAAC,CzBmGC,A8BhHA,C9BgHC,C8BhHC,CAAC,EAAE,EAAE,CDmCN,CAAC,E7B6ED,EAAE,EyBnGY,CAAC,CAAA,AEgBH,CEMF,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAA;AFLxF,IG7BI,IJ4BI,AGOA,I7B6EI,AyBnGA,EKbE,CJ4BC,AI5BA,C9BgHG,C0BpFD,AGOA,CAAC,CJtBC,AKbA,CAAC,CAAC,CAAC,CDmCC,CJtBC,ACeA,AGOA,CJtBC,CIsBC,CAAC,E7B6EI,C8BhHD,ADmCA,E7B6EI,A8BhHF,CAAC,CAAA,ADmCC,CAAA,KJtBM,CAAC,CAAA,EzBmGK,CAAC,E2BnFmB,C3BmFhB,CAAC,EAAE,CAAC,CAAA;A2BlFtD,CG7BC,OJ4BO,AGQA,I7B4EI,AyBlGA,AIsBA,GHRG,C1BoFC,C0BpFC,AGQO,CAAA,CJtBL,KAAK,CAAC,CCcC,Y1BoFC,AyBlGW,CzBkGV,AyBjGZ,SAAS,EACT,EzBgGyB,CAAC,EyBhGrB,EACL,IAAI,AEYqC,CFZpC,KAAK,CAAC,QAAQ,CACtB,CAAA;AEYb,AG5BA,QLiBQ,ACUA,AGSA,CJnBC,GImBG,EHTE,E1BoFE,A0BpFA,AGSA,KAAK,CHTC,C1BoFA,I6B3EK,EAAE,sCFRkC;AAC/D,IG7B0B,ILuClB,ACXA,I1BoFI,A6B3EA,IAAI,EHTE,EAAE,AGSA,GAAG,I7B2EI,CAAC,A0BpFA,G1BoFG,CAAC,A6B3EA,CAAC,C7B2EC,EAAE,A8B5GlC,EDiCoC,CAAC,EAAE,CJEb,AIFc,GJElC,CIFsC,E7B2EE,CAAC,GAAG,CAAC,EAAE,CAAC,A6B3EA,C7B2EC,A6B3EA,C7B2EA,C6B3EC,EFRD,GEQM,EAAE,6CAAqB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAC,CAAC,CAAA;AFP/F,IGDI,CJAC,O1BoFO,AyBzEA,AIFA,IJEI,CAAC,CKXD,GDSK,CAAC,CCTG,ELWA,CAAC,CIFC,CAAC,C7B2EC,CAAC,A6B3EA,CAAC,GAAG,EJEE,EAAE,AIFA,CJEA,AIFA,E7B2EG,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE,CAAE,C2BnFJ,C3BmFM,aAAa,CAAC,CAAA;A2BlF/E,CDDC,CAAC,CAAC,K1BoFK,AyBzEA,AKZJ,C9BqFK,AyBzEA,ACXA,C1BoFC,CAAA,A0BpFC,CAAC,AGSA,KAAI,CAAC,CHTE,CAAA,AIAX,GDSc,GAAG,EAAC,IAAI,MCThB,ADSgB,EAAE,GCTb,CAAC,ADSgB,MAAA,EAAC,CCHhC,ADGgC,8BFR0C;AAC/E,Q3BoFQ,AyBzEQ,AKtBZ,CDmBK,M7B4EM,IAAI,G8B/FP,GAAG,MLsBU,EzByEQ,CACrB,AyB1EJ,CKtBQ,MAAU,GLsBA,GzB0ED,AyB1EgC,UEXH,S3BsFtC,UAAU,GACd,YAAY,EACZ,eAAe,EACf,iBAAiB,CACpB,CAAA;A2BvFT,I3BwFI,CAAC,OyB/EO,AKtBJ,CDkBO,GJIC,AKtBJ,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GLsBJ,AKtBO,CLsBN,CKtBQ,CHaO,CGbL,CLsBN,CAAC,SAAS,CAAC,EAAE;AEP1C,I3BwFW,Q6BpFC,IJII,AKtBJ,ADkBM,IJIE,CAAC,AKtBL,ADkBO,CClBN,EDkBS,KJIG,CAAC,AKtBL,CAAC,CDkBQ,CClBP,ADkBQ,E7BoFlB,GAAb,A6BpFoC,CJID,AIJE,CJID,CIJG,CAAC,EJIA,AKtBN,CLsBO,CKtBL,CAAC,C9BsGvB,C8BtGwB,CAAC,CAAA,GLsBW,CAAC,CAAA,SzBgFO;I2BxF5B,I3ByFpB,IAAA,C8BtGL,GLsBO,GIJG,CJIC,CzBgF2C,AyBhF1C,EzBgFN,OyBhFe,GAAG,WET8B,G3ByFvC,EAAE,CyBhFc,AIJQ,CJIR,kBzBgFP,EAAE,wB6BpFkC,CAAC,GAAG,EAAE,GAAG,C7BoF7B,A6BpFgC,CAAA,C7BoF9B,cAAI,CAAQ;I2BzC3D,I3B2CI,I6BrFI,CJIC,IKvBE,GDmBK,CAAC,I7BqFI,CAAC,A2B3CV,AE1CU,CAAC,EAAE,CAAC,CF0CF,E3B2CK,A6BrFA,C7BqFC,I6BrFI,CAAA,K7BqFJ,EAAE;Q2B3ChC,I3B4CQ,AyBjFA,AIJA,I7BqFI,AyBjFA,AKvBJ,CDmBI,CAAC,EF0CT,CG7DQ,CAAC,CDmBK,E7BqFG,CAAC,A6BrFD,EAAC,C7BqFG,CAAC,A8BxGL,CAAC,C9BwGM,A6BrFF,C7BqFG,A8BxGN,KLuBA,AEsCb,AE1CgB,CJIF,CIJI,EJID,CAAC,AEsCb,CAAC,AG7DkB,CLuBJ,AIJG,CCnBG,KAAI,CAAC,ADmBR,CFuDhC,CEvDiC,CAAA,ECnBY,CAAC,MAAM,GAAG,CAAC,EAAC,CAAC,CAAA;QHkJ1C,CE9HZ,ICnBA,G9BwGO,AyBjFA,EE0HS,GAAiB,C3BzCpB,CyBjFA,EE0HwB,C3BzCpB,wBAAwB,CAAC,C2ByCO,C3BzCL,CAAC,A2ByCM,C3BzCN,A2ByCM;Q3BxCpD,A2B4Ca,AGpJjB,C9BwGK,A8BxGJ,C9BwGK,A8BxGL,C9BwGK,EyBjFG,SE6HgB,GAAG,mCAAgB,CAAU,aAAa,CAAC,CAAA;IEjIpE,CAAC,G7BuFG,A2B2Ca,AGjJb,ILoBI,CKpBA,CAAC,ELoBK,GAAG,AKpBH,CHiJS,EF7HM,AKpBZ,CHiJS,EF7HM,YAAY,KAAK,CAAC,SAAS,ME6HjB,CAAQ,M3B3CnB,CAAC,I2B2C6B,CAAC,CAAA,Q3B3ChB,EAAE,iBAAiB,CAAC,MAAM,CAAC,CAAA;I6BzIzE,I7B0II,A2BkGa,IGxMT,G9BsGG,CAAC,AyBlFA,CAAC,AKpBA,CLoBC,CKpBC,C9BsGC,K8BtGK,CLoBC,AKpBA,C9BsGlB,AyBlFmB,EEoLS,GAAmB,E3BlGxC,E2BkG4C,AGxMvB,ELoBE,CAAC,GAAG,CAAC,GIxDtB,GAAjB,I7B0IoB,gB2BkGkD,C3BlGjC,A2BkGkC,CAAC,CAAC,C3BlGnC,A2BkGmC;Q3BjGrE,A2BhDA,AE3FJ,ICqCQ,CHsDA,CAAC,EFlCG,CAAC,CAAC,AKpBA,EAAE,CLoBC,CAAA,AEkCA,G3BgDI,A2BhDD,AEnFnB,C7BmIqB,A8BtGA,CAAC,M9BsGM,CAAC,I8BtGI,M9BsGH,EAAE,EAAE,KAAK,IAAK,OAAA,SAAS,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,GAAG,IAAI,CAAC,EAA/B,CAA+B,CAAC,CAAA;IAC7E,CAAC,G6B3IG,IJyDI,AEkCA,AGtDA,ADrCA,CAAC,GJyDG,KEkCK,AE3FA,EF2FE,AGtDA,CDrCC,CCqCC,CAAC,KHsDK,CAAC,GFlCR,AIzDW,CJyDV,AIzDW,GJyDR,CAAC,EAAE,GEkCc,CAAC,KAAK,CAAC;I3BkDzC,K8BvGF,CAAA,EHsDG,AE3FA,IJyDI,AIzDA,GF2FG,CFlCC,CAAC,AEkCA,AE3FD,CAAC,KAAK,CAAC,CJyDE,AEkCA,CFlCC,AEkCA,EE3FC,G7B4Id,EyBnFoB,AIzDD,C7B4IhC,AyBnFkC,GAAG,CAAC,CAAA,AEkCC,AE3FD,CF2FE,I3BiD1B,C2BjD+B,CAAC,O3BiDO;QAC3C,IAAA,A2BjDF,IFlCI,AIzDA,IJyDI,AEkCA,C3BiD0C,AyBnFzC,CEkCC,C3BiDP,A6B5IO,GF2FI,GAAG,CFlCC,CEkCyB,EFlCtB,GAAG,CAAA,UzBmFZ,EAAE,8BAAY,EAAE,kCAAc,CAAQ;I8BvG1D,CAAC,G9ByGG,C2BlDC,CAAA,EE3FG,CJyDC,GIzDK,C7B6ID,CAAC,E6B7II,GAAG,E7B6IA,CAAC,O6B7IS,CAAC,E7B6IV,A6B7IW,K7B6IN,A6B7IW,EAAE,6CAAqB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAC,CAAC,CAAA;ICKtE,ILqDI,AEmCA,CFnCC,GzBoFU,A2BjDL,AE5FF,I7B6IO,E2BjDC,GAAG,AE5FF,CAAC,GCIZ,EDJgB,CCItB,ADJuB,C7B6IN,EAAE,E6B7IS,CAAC,EAAE,CAAC,GAAG,IAAI,CAAA,O7B6Id,A2BjDQ,C3BiDC,A2BjDA,MAAM,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAA;QFlCxF,AEmCI,AGxFM,I9B0IF,A2BlDE,AGxFA,ADJF,KAAI,CJyDX,AIzDY,KF4FQ,C3BkDD,CAAC,C2BlDG,AE5FH,CCI8B,ADJ7B,C7B8IE,CAAC,A8B1Id,ADJY,E7B8II,EAAE,A6B9IF,M7B8IQ,A6B9IR,C7B8IS,CAAA,A6B9IR,CAAC,CAAA,ECIb,EAAE,YHwFqB,CAAC,KAAI,AGxFpB,CHwFqB,CGxFnB,IHwFwB,CAAC,WAAW,EAAE,KAAI,CAAC,IGxFhC,CHwFqC,AGxFvB,CHwFwB,MAAM,CAAC,CAAA;IFnClF,CA3DA,AA2DC,CA3DiB,EE+Fd,AGvFA,ADLA,CAAC,EJHkB,AIGhB,C7B8IC,AyBjJgB,AE+Fd,GGvFC,EHuFI,GAAG,KF/FmB,CzBiJf,CAAC,CyBtFtB,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","file":"9da1f22267b6c295272a7b7fd7c852e0.map","sourcesContent":["export function existing<T>(maybe: T | nothing): maybe is NonNullable<T> {\n    return typeof maybe !== 'undefined' && maybe !== null\n}\nexport function notExisting<T>(maybe: Maybe<T>): maybe is nothing {\n    return !existing(maybe)\n}\n\n","import FastBinaryIndexedTree from 'fast-binary-indexed-tree'\n\nexport function cloneFastBinaryIndexedTree(source: FastBinaryIndexedTree): FastBinaryIndexedTree {\n    const target = new FastBinaryIndexedTree({\n        defaultFrequency: source.defaultFrequency,\n        maxVal: source.maxVal\n    })\n\n    target['_tree'] = {...source['_tree']}\n    target['_countNeg'] = source['_countNeg']\n\n    return target\n}\n","import {notExisting} from '../typecheck/existing'\n\nexport function ensure<A>(maybe: Maybe<A>, defaultValue: A): A {\n    return notExisting(maybe) || Number.isNaN(maybe) ? defaultValue : maybe\n}\n\n","import FastBinaryIndexedTree = require('fast-binary-indexed-tree')\n\nexport function expandFastBinaryIndexedTree(\n    source: FastBinaryIndexedTree,\n    increasedSize: number\n): void {\n    increasedSize = Math.round(increasedSize)\n    if (increasedSize <= 0)\n        return\n\n    const emptyTree = new FastBinaryIndexedTree({\n        maxVal: source.maxVal + increasedSize,\n        defaultFrequency: source.defaultFrequency\n    })\n\n    source['_maxVal'] = emptyTree['_maxVal']\n    if (source['_msb'] !== emptyTree['_msb']) {\n        source['_msb'] = emptyTree['_msb']\n    }\n}\n","export const nothing: nothing = null\n","import FastBinaryIndexedTree from 'fast-binary-indexed-tree'\nimport {notExisting} from '../typecheck/existing'\nimport {cloneFastBinaryIndexedTree} from '../utils/cloneFastBinaryIndexedTree'\nimport {ensure} from '../utils/ensure'\nimport {expandFastBinaryIndexedTree} from '../utils/expandFastBinaryIndexedTree'\nimport {nothing} from '../utils/nothing'\nimport {ListItemID, ListItemPosition, ListItemShape, ListLayout} from './ListLayout'\n\nexport class ListLayoutImpl implements ListLayout {\n    public static create(itemIDs: ReadonlyArray<ListItemID>,\n                         defaultHeight: px = 100,\n                         heights: ReadonlyMap<ListItemID, px> = new Map()): ListLayout {\n        const idToIndex = new Map()\n        itemIDs.forEach((id, index) => {\n            if (idToIndex.has(id))\n                throw new DuplicateListItemIDError(id)\n            idToIndex.set(id, index)\n        })\n\n        const prefixSumIndex = new FastBinaryIndexedTree({\n            defaultFrequency: defaultHeight,\n            maxVal: itemIDs.length\n        })\n\n        const knownHeights = new Map()\n        heights.forEach((height, id) => {\n            if (!idToIndex.has(id))\n                return\n            knownHeights.set(id, height)\n            prefixSumIndex.writeSingle(idToIndex.get(id)!, height)\n        })\n\n        return new ListLayoutImpl(\n            defaultHeight,\n            [...itemIDs],\n            idToIndex,\n            knownHeights,\n            prefixSumIndex\n        )\n    }\n\n    public getByID(id: ListItemID): Maybe<ListItemPosition> {\n        if (this.size === 0) { return nothing }\n        const index = this.idToIndex.get(id)\n        if (notExisting(index)) { return nothing }\n        const offset = this.prefixSumIndex.read(index)\n        const height = this.prefixSumIndex.readSingle(index)\n        return {id, index, offset, height}\n    }\n\n    public getByIndex(index: number): Maybe<ListItemPosition> {\n        if (this.size === 0) { return nothing }\n        const id = this.itemIDs[index]\n        if (notExisting(id)) { return undefined }\n        const offset = this.prefixSumIndex.read(index)\n        const height = this.prefixSumIndex.readSingle(index)\n        return {id, index, offset, height}\n    }\n\n    public getByIndexRange(from: number, to: number): Array<ListItemPosition> {\n        if (this.size === 0) {return []}\n        const fromItem = ensure<ListItemPosition>(this.getByIndex(from), this.getByIndex(0)!)\n        const toItem = ensure<ListItemPosition>(this.getByIndex(to), this.getByIndex(this.size - 1)!)\n        const results: Array<ListItemPosition> = []\n        for (let i = fromItem.index; i <= toItem.index; i++) {\n            results.push(this.getByIndex(i)!)\n        }\n        return results\n    }\n\n    public getByOffset(position: px): Maybe<ListItemPosition> {\n        if (this.size === 0) { return undefined }\n        let bound = this.prefixSumIndex.upperBound(position)\n        const index = bound === this.size ? bound - 1 : bound\n        const id = this.itemIDs[index]\n        const offset = this.prefixSumIndex.read(index)\n        const height = this.prefixSumIndex.readSingle(index)\n        return {id, index, offset, height}\n    }\n\n    public getByOffsetRange(from: px, to: px): Array<ListItemPosition> {\n        if (this.size === 0) {return []}\n        const fromItem = ensure<ListItemPosition>(this.getByOffset(from), this.getByIndex(0)!)\n        const toItem = ensure<ListItemPosition>(this.getByOffset(to), this.getByIndex(this.size - 1)!)\n        const results: Array<ListItemPosition> = []\n        for (let i = fromItem.index; i <= toItem.index; i++) {\n            results.push(this.getByIndex(i)!)\n        }\n        return results\n    }\n\n    public clone(newDefaultHeight?: px): ListLayout {\n        const {itemIDs, idToIndex, knownHeights, defaultHeight, prefixSumIndex} = this\n\n        newDefaultHeight = ensure(newDefaultHeight, defaultHeight)\n        const newItemIDs = [...itemIDs]\n        const newIDToIndex = new Map(idToIndex)\n        const newKnownHeights = new Map(knownHeights)\n        const newPrefixSumIndex = cloneFastBinaryIndexedTree(prefixSumIndex)\n\n        return new ListLayoutImpl(\n            newDefaultHeight,\n            newItemIDs,\n            newIDToIndex,\n            newKnownHeights,\n            newPrefixSumIndex\n        )\n    }\n\n    public join(newItemIDs: ReadonlyArray<ListItemID>): ListLayout {\n        const {defaultHeight, knownHeights} = this\n\n        const newIDToIndex = new Map()\n        newItemIDs.forEach((id, index) => newIDToIndex.set(id, index))\n\n        const newKnownHeights = new Map()\n        const newPrefixSumIndex = new FastBinaryIndexedTree({\n            defaultFrequency: defaultHeight,\n            maxVal: newItemIDs.length\n        })\n        newItemIDs.forEach(id => {\n            const currentHeight = knownHeights.get(id)\n            if (notExisting(currentHeight))\n                return\n            newKnownHeights.set(id, knownHeights.get(id))\n            newPrefixSumIndex.writeSingle(newIDToIndex.get(id)!, currentHeight)\n        })\n\n        return new ListLayoutImpl(\n            defaultHeight,\n            [...newItemIDs],\n            newIDToIndex,\n            newKnownHeights,\n            newPrefixSumIndex\n        )\n    }\n\n    public append(additionalItemIDs: ReadonlyArray<ListItemID>): void {\n        const {idToIndex, itemIDs, prefixSumIndex, size} = this\n\n        additionalItemIDs.forEach(id => {\n            if (idToIndex.has(id))\n                throw new DuplicateListItemIDError(id)\n        })\n\n        expandFastBinaryIndexedTree(prefixSumIndex, additionalItemIDs.length)\n        itemIDs.push(...additionalItemIDs)\n        additionalItemIDs.forEach((id, index) => idToIndex.set(id, index + size))\n    }\n\n    public update(newShapes: ReadonlyArray<ListItemShape>): void {\n        const {idToIndex, knownHeights, prefixSumIndex} = this\n\n        newShapes.forEach(shape => {\n            const {id, height} = shape\n\n            knownHeights.set(id, height)\n            prefixSumIndex.writeSingle(idToIndex.get(id)!, height)\n        })\n    }\n\n    public get size(): number { return this.itemIDs.length }\n\n    public get totalHeight(): px { return this.prefixSumIndex.read(this.itemIDs.length) }\n\n    private constructor(\n        private readonly defaultHeight: px,\n        private readonly itemIDs: Array<ListItemID>,\n        private readonly idToIndex: Map<ListItemID, number>,\n        private readonly knownHeights: Map<ListItemID, px>,\n        private readonly prefixSumIndex: FastBinaryIndexedTree\n    ) {}\n}\n\nexport class DuplicateListItemIDError extends Error {}\n","import {Observables} from './Observables'\nimport {Pipes} from './Pipes'\n\nexport function applyMiddleware<T extends object>(\n    origin: Observables<T>, pipes: Pipes<T>\n): Observables<T> {\n    return Object.keys(origin)\n        .map(key => ({[key]: pipes[key](origin[key])}))\n        .reduce((prev, curr) => Object.assign(prev, curr)) as any\n}\n","import {Subjects} from './Subjects'\n\nexport function createPublishers<T extends object>(subjects: Subjects<T>): EventHandlers<T> {\n    return Object.keys(subjects)\n        .map(key => ({[key]: (value: T[typeof key]) => subjects[key].next(value)}))\n        .reduce((prev, curr) => Object.assign(prev, curr)) as any\n}\n","import {Subject} from 'rxjs/Subject'\nimport {Subjects} from './Subjects'\n\nexport function createSubjects<T extends object>(names: ShapeOf<T>): Subjects<T> {\n    return Object.keys(names)\n        .map(key => ({[key]: new Subject()}))\n        .reduce((prev, curr) => Object.assign(prev, curr)) as any\n}\n","import {applyMiddleware} from './applyMiddleware'\nimport {createPublishers} from './createPublishers'\nimport {createSubjects} from './createSubjects'\nimport {Observables} from './Observables'\nimport {Pipes} from './Pipes'\n\nexport function createDispatcher<T extends object>(\n    middleware: Pipes<Required<T>>\n): Dispatcher<Required<T>> {\n    const subjects = createSubjects<Required<T>>(middleware)\n    return Object.assign(\n        {publish: createPublishers<Required<T>>(subjects)},\n        applyMiddleware<Required<T>>(subjects, middleware)\n    )\n}\n\nexport type Dispatcher<T extends object> = {\n    publish: EventHandlers<Required<T>>,\n} & Observables<Required<T>>\n\n","import {Observable} from 'rxjs/Observable'\n\nexport type Pipe<A, B=A> = (source: Observable<A>) => Observable<B>\n\nexport type Pass<T> = Pipe<T, T>\nexport const Pass = <T>(observable: Observable<T>): Observable<T> => observable\n\n","export function isFalse(value: any): value is false {\n    return value === false\n}\n","export function isTrue(value: any): value is true {\n    return value === true\n}\n","export function isFunction(a: any): a is Function {\n    return typeof a === 'function'\n}\n","import {notExisting} from '../typecheck/existing'\nimport {isFunction} from '../typecheck/isFunction'\nimport {nothing} from './nothing'\n\nexport function assume<A, B>(a: Maybe<A>, func: (a: A) => B): Maybe<B>\nexport function assume<A, B, C>(a: Maybe<A>, b: Maybe<B>, func: (a: A, b: B) => C): Maybe<C>\nexport function assume<T>(...params: Array<Maybe<any> | ((...p: Array<Maybe<any>>) => T)>): Maybe<T> {\n    const func = params[params.length - 1]\n    const funcParams = params.slice(0, params.length - 1)\n    if (!isFunction(func) || funcParams.length < 1 || funcParams.some(notExisting)) {\n        return nothing\n    }\n    return func(...funcParams)\n}\n","export function publishAll<T extends object>(value: T, handlers: EventHandlers<Required<T>>): void {\n    Object.keys(handlers).forEach(key => handlers[key](value[key]))\n}\n","export type Pulse = any\nexport let Pulse: Pulse = true\n","import {notExisting} from '../typecheck/existing'\nimport {nothing} from './nothing'\n\nexport function calcSum(array: Array<number>): number {\n    return array.reduce((acc, curr) => acc + curr, 0)\n}\n\nexport function calcAverage(array: Array<number>): Maybe<number> {\n    if (array.length === 0)\n        return nothing\n    return calcSum(array) / array.length\n}\n\nexport function nearestToAverage(array: Array<number>): Maybe<number> { // TODO better name\n    const average = calcAverage(array)\n    if (array.length === 0 || notExisting(average))\n        return nothing\n    const sorted = array.sort((a, b) => Math.abs(a - average) - Math.abs(b - average))\n    return sorted[0]\n}\n\nexport function calcDeviation(array: Array<number>): Maybe<number> {\n    const average = calcAverage(array)\n    if (array.length === 0 || notExisting(average))\n        return nothing\n    return calcAverage(array.map(num => Math.abs(num - average)))\n}\n\n\n","export async function forDuration(duration: ms): Promise<void> {\n    return new Promise<void>((then) => setTimeout(then, duration))\n}\n","export async function nextAnimationFrame(): Promise<undefined> {\n    return new Promise(resolve => requestAnimationFrame(resolve)) as Promise<any>;\n}\n","// ignoring rotate\r\n\r\nexport function calcOutline(dom: Element): Outline {\r\n    const rect = dom.getBoundingClientRect()\r\n\r\n    const {width, height} = rect\r\n    const x = rect.left\r\n    const y = rect.top\r\n\r\n    return {x, y, width, height}\r\n}\r\n","import {notExisting} from '../typecheck/existing'\n\nexport function hasStyle(style: Maybe<string>): style is string {\n    return !(style === 'none' || style === '' || notExisting(style));\n}\n\n","import {applyToPoints} from 'transformation-matrix/applyToPoint'\nimport {fromString} from 'transformation-matrix/fromString'\nimport {inverse} from 'transformation-matrix/inverse'\nimport {hasStyle} from '../hasStyle'\nimport {calcOutline} from './calcOutline'\n\n// ignoring rotate\nexport function calcOutlineOrigin(dom: Element): Outline {\n    let outline: Outline = calcOutline(dom)\n\n    const transformCSS = window.getComputedStyle(dom).transform\n    if (hasStyle(transformCSS)) {\n        const {x, y, width, height} = outline\n        const transform = fromString(transformCSS)\n        const inverted = inverse(transform)\n        const [topLeft, bottomRight] =\n            applyToPoints(inverted, [{x, y}, {x: x + width, y: y + height}])\n        outline = {\n            x: topLeft.x,\n            y: topLeft.y,\n            width: Math.abs(bottomRight.x - topLeft.x),\n            height: Math.abs(bottomRight.y - topLeft.y)\n        }\n    }\n\n    return outline\n}\n","import {scale} from 'transformation-matrix/scale'\nimport {transform} from 'transformation-matrix/transform'\nimport {translate} from 'transformation-matrix/translate'\n\nexport function calcTransform(from: Outline, to: Outline): Matrix {\n    const centerOf = (rect: Outline): Point => {\n        return {\n            x: rect.x + rect.width * 0.5,\n            y: rect.y + rect.height * 0.5\n        }\n    }\n    const fromMiddle = centerOf(from)\n    const toMiddle = centerOf(to)\n\n    const matrix = transform(\n        translate(toMiddle.x - fromMiddle.x, toMiddle.y - fromMiddle.y),\n        scale(to.width / from.width, to.height / from.height)\n    )\n\n    return matrix\n}\n\n","import BezierEasing = require('bezier-easing')\n\nexport class Tween {\n    get isFinished(): boolean {\n        const {progress} = this\n        return progress === 1\n    }\n\n    get applied(): Matrix {\n        const {progress, full} = this\n        return withProgress(full, progress)\n    }\n\n    constructor(\n        public readonly full: Matrix,\n        public readonly duration: ms,\n        public readonly easing: Easing\n    ) {\n        this.since = Date.now()\n        this.bezierCurve = BezierEasing.apply(null, easing)\n    }\n\n    private get progress(): number {\n        const {bezierCurve, since, duration} = this\n        const now: ms = Date.now()\n        const progress = Math.ceil(Math.round(bezierCurve((now - since) / duration) * 100) / 100)\n        return Math.min(Math.max(progress, 0), 1)\n    }\n\n    private readonly since: ms\n    private readonly bezierCurve: (pos: number) => number\n}\n\n","import {inverse} from 'transformation-matrix/inverse'\r\nimport {toCSS} from 'transformation-matrix/toString'\r\nimport {existing} from '../../typecheck/existing'\r\nimport {isFunction} from '../../typecheck/isFunction'\r\nimport {forDuration} from '../../utils/forDuration'\r\nimport {nextAnimationFrame} from '../../utils/nextAnimationFrame'\r\nimport {calcOutline} from './calcOutline'\r\nimport {calcOutlineOrigin} from './calcOutlineOrigin'\r\nimport {calcTransform} from './calcTransform'\r\nimport {Tween} from './Tween'\r\n\r\nexport async function tweenHere(\r\n    element: HTMLElement,\r\n    from: Outline | ((current: Outline, to: Outline) => Outline) = current => current,\r\n    duration: ms | ((from: Outline, target: Outline) => ms) = 200,\r\n    easing: Easing = [0, 0, 1, 1]\r\n): Promise<void> {\r\n    const prevTween = tweening.get(element) // TODO calculate velocity\r\n    const current = calcOutline(element)\r\n\r\n    if(existing(prevTween) && !prevTween.isFinished) {\r\n        element.style.transition = `none`\r\n        element.style.transform = `none`\r\n    }\r\n    const to = calcOutlineOrigin(element)\r\n    from = isFunction(from) ? from(current, to) : from\r\n\r\n    const transform = calcTransform(from, to)\r\n    duration = isFunction(duration) ? duration(from, to) : duration\r\n    element.style.transition = 'none'\r\n    element.style.transform = toCSS(inverse(transform))\r\n    const currTween = new Tween(transform, duration, easing)\r\n    tweening.set(element, currTween)\r\n\r\n    await nextAnimationFrame()\r\n    if (tweening.get(element) !== currTween)\r\n        return\r\n    element.style.transition = `\r\n        opacity ${duration}ms cubic-bezier(${easing.join(',')}),\r\n        transform ${duration}ms cubic-bezier(${easing.join(',')})\r\n    `\r\n    element.style.transform = 'none'\r\n\r\n    await forDuration(duration)\r\n    if (tweening.get(element) !== currTween)\r\n        return\r\n    element.style.transition = `none`\r\n    tweening.delete(element)\r\n}\r\n\r\nconst tweening: WeakMap<Element, Tween> = new WeakMap()\r\n\r\ntype TweenID = string\r\n\r\n","import {ensure} from '../../../../utils/ensure'\n\nexport function calcFocusOffset(focusOffset: Maybe<px>, viewportHeight: px): px {\n    return ensure<px>(focusOffset, viewportHeight / 3)\n}\n","import {ListItemPosition, ListLayout} from '../../../../layouts/ListLayout'\nimport {existing} from '../../../../typecheck/existing';\n\nconst pageSize = 10\n\nexport function calcSegments(scroll: px, preload: px,\n                             height: px, layout: ListLayout): Array<ListItemPosition> {\n    const segments: Array<ListItemPosition> = []\n\n    const floorSeg = layout.getByOffset(\n        Math.max(\n            Math.min(\n                scroll - height,\n                scroll + preload\n            ),\n            0\n        )\n    )\n    const ceilSeg = layout.getByOffset(\n        Math.min(\n            Math.max(\n                scroll + height + height,\n                scroll + height + preload\n            ),\n            layout.totalHeight\n        )\n    )\n    if (existing(floorSeg) && existing(ceilSeg)) {\n        const fromIndex = Math.floor(floorSeg.index / pageSize) * pageSize\n        const toIndex = Math.min(\n            Math.ceil(ceilSeg.index / pageSize) * pageSize,\n            layout.size - 1\n        )\n        for (let index = fromIndex; index <= toIndex; index++) {\n            segments.push(layout.getByIndex(index)!)\n        }\n    }\n\n    return segments\n}\n","import {ListLayout} from '../../../../layouts/ListLayout'\nimport {notExisting} from '../../../../typecheck/existing'\nimport {assume} from '../../../../utils/assume'\n\nexport function projectScroll(scroll: px, focusOffset: px, from: ListLayout, to: ListLayout): px {\n    const prev = from.getByOffset(scroll + focusOffset)\n    const curr = assume(prev, prev => to.getByID(prev.id))\n    if (notExisting(prev) || notExisting(curr))\n        return scroll\n    const prevHeightBeforeFocus = scroll + focusOffset - prev.offset\n    const currHeightBeforeFocus = (prevHeightBeforeFocus / prev.height) * curr.height\n    return curr.offset - (focusOffset - currHeightBeforeFocus)\n}\n","import {ListItemShape, ListLayout} from '../../../../layouts/ListLayout'\nimport {existing} from '../../../../typecheck/existing'\nimport {assume} from '../../../../utils/assume'\nimport {SegmentID} from '../types/SegmentID'\n\nexport function updateLayoutIfNecessary(prevLayout: ListLayout,\n                                        alternateItemIDs: Maybe<ReadonlyArray<SegmentID>>,\n                                        updates: ReadonlyArray<ListItemShape>): ListLayout {\n    let newLayout = prevLayout\n\n    const areHeightsUpdated = updates.some(update =>\n        update.height !== assume(newLayout.getByID(update.id), it => it.height)\n    )\n    if (areHeightsUpdated) {\n        newLayout = newLayout.clone()\n        newLayout.update(updates)\n    }\n\n    if (existing(alternateItemIDs)) {\n        newLayout = newLayout.clone()\n        newLayout.join(alternateItemIDs)\n    }\n\n    return newLayout\n}\n\n","import * as React from 'react'\nimport * as ReactDOM from 'react-dom';\nimport ResizeObserver from 'resize-observer-polyfill'\nimport {isString} from 'util';\nimport {existing, notExisting} from '../../typecheck/existing'\nimport {nothing} from '../../utils/nothing'\nimport {PropsOf} from '../PropsOf';\nimport hoistNonReactStatics = require('hoist-non-react-statics')\n\nexport function measuring<C extends React.ComponentClass<any> | keyof React.ReactHTML>(\n    Component: C\n): Measuring<C> {\n    class HOC extends React.PureComponent<PropsOf<C> & MeasureProps> {\n        render() {\n            // TODO what if Component renders multiple elements?\n\n            const props: PropsOf<C> = Object.assign(\n                {},\n                this.props,\n                {ref: (it: any) => this.updateRef(it)}\n            ) as any\n            delete props['onHeightChange']\n            delete props['onWidthChange']\n\n            return React.createElement(\n                Component,\n                props,\n                this.props.children\n            )\n        }\n\n        private observer: ResizeObserver\n        private observing: Maybe<Element>\n\n        constructor(props: PropsOf<C> & MeasureProps) {\n            super(props)\n\n            this.observer = new ResizeObserver(\n                (entries: ResizeObserverEntry[], observer: ResizeObserver) => {\n                    const height = entries[0].contentRect.height\n                    const width = entries[0].contentRect.width\n                    if (existing(this.props.onHeightChange)) {\n                        this.props.onHeightChange(height)\n                    }\n                    if (existing(this.props.onWidthChange)) {\n                        this.props.onWidthChange(width)\n                    }\n                }\n            )\n        }\n\n        componentWillUnmount() {\n            this.observer.disconnect()\n        }\n\n        private updateRef(ref: Maybe<React.ReactInstance>) {\n            if (existing(this.observing)) {\n                this.observer.unobserve(this.observing)\n                this.observing = nothing\n            }\n            if (notExisting(ref)) {\n                return\n            }\n            const dom: Element = ref instanceof React.Component\n                ? ReactDOM.findDOMNode(ref)\n                : ref\n            if (existing(dom)) {\n                this.observer.observe(dom)\n                this.observing = dom\n            }\n        }\n    }\n\n    if (!isString(Component)) {\n        hoistNonReactStatics(HOC, Component as any)\n    }\n\n    return HOC\n}\n\nexport type Measuring<T extends React.ComponentClass<any> | keyof React.ReactHTML> =\n    React.ComponentClass<PropsOf<T> & MeasureProps>\n\ntype MeasureProps = SelfDecideHeight & SelfDecideWidth\n","import sharedInstance from 'jss'\nimport * as React from 'react';\nimport {ListItemShape} from '../../../layouts/ListLayout'\nimport {measuring, Measuring} from '../../../react/measure/measuring'\nimport {PropsOf} from '../../../react/PropsOf';\nimport {existing} from '../../../typecheck/existing'\nimport {Segment} from './types/Segment'\n\nexport class MeasuredSegment extends React.PureComponent<Props> {\n    render() {\n        const {id, width} = this.props\n        const {Segment} = this\n        return <Segment id={id} width={width} onHeightChange={this.reportHeight}/>\n    }\n\n    private reportHeight = (height: px) => {\n        const id = this.props.id\n\n        if (existing(this.props.onHeightChange)) {\n            this.props.onHeightChange({id, height})\n        }\n    }\n\n    constructor(props: Props) {\n        super(props)\n        this.Segment = measuring(props.Segment)\n    }\n\n    private Segment: Measuring<Segment>\n}\n\ntype Props = PropsOf<Segment>\n    & { Segment: Segment }\n    & { onHeightChange: EventHandler<ListItemShape> }\n\nconst classes = sharedInstance.createStyleSheet({\n    mask: {\n        display: 'block',\n        contain: 'content',\n        height: 'auto',\n        willChange: 'height'\n    }\n}).attach().classes\n","import sharedInstance from 'jss'\r\nimport * as React from 'react'\r\nimport {CSSProperties} from 'react'\r\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport {interval} from 'rxjs/observable/interval'\r\nimport {\r\n    bufferCount,\r\n    bufferTime,\r\n    combineLatest,\r\n    distinctUntilChanged,\r\n    filter,\r\n    map,\r\n    merge,\r\n    pairwise,\r\n    sampleTime,\r\n    scan,\r\n    shareReplay,\r\n    startWith,\r\n    timestamp,\r\n    withLatestFrom\r\n} from 'rxjs/operators'\r\nimport {animationFrame} from 'rxjs/scheduler/animationFrame'\r\nimport {Subscription} from 'rxjs/Subscription'\r\nimport {Memoize} from 'typescript-memoize'\r\nimport {ListItemPosition, ListItemShape, ListLayout} from '../../layouts/ListLayout'\r\nimport {ListLayoutImpl} from '../../layouts/ListLayoutImpl'\r\nimport {createDispatcher} from '../../rxjs/createDispatcher'\r\nimport {Pass} from '../../rxjs/Pipe';\r\nimport {Pipes} from '../../rxjs/Pipes'\r\nimport {existing} from '../../typecheck/existing'\r\nimport {isFalse} from '../../typecheck/isFalse';\r\nimport {isTrue} from '../../typecheck/isTrue';\r\nimport {assume} from '../../utils/assume'\r\nimport {ensure} from '../../utils/ensure'\r\nimport {nothing} from '../../utils/nothing'\r\nimport {publishAll} from '../../utils/publishAll'\r\nimport {Pulse} from '../../utils/Pulse'\r\nimport {calcAverage, nearestToAverage} from '../../utils/statics';\r\nimport {tweenHere} from '../../view/tween-here/tweenHere'\r\nimport {calcFocusOffset} from './src/functions/calcFocusOffset'\r\nimport {calcSegments} from './src/functions/calcSegments'\r\nimport {projectScroll} from './src/functions/projectScroll'\r\nimport {updateLayoutIfNecessary} from './src/functions/updateLayoutIfNecessary'\r\nimport {MeasuredSegment} from './src/MeasuredSegment';\r\nimport {Segment} from './src/types/Segment'\r\nimport {SegmentID} from './src/types/SegmentID'\r\nimport deepEqual = require('deep-equal')\r\n\r\nexport class InfiniteList extends React.Component<Props, State> {\r\n    public render(): JSX.Element {\r\n        const {scrolled, heightUpdated, touchEnded, touchMoved, touchStarted} = this.actions$.publish\r\n        const {state, props, children, temporalScroll} = this\r\n        const {Segment, width, height} = props\r\n        const {segments, layout, useAutoLayout} = state\r\n\r\n        const paddingTop = useAutoLayout\r\n            ? <div key={'infinite-scroll-padding-top'}\r\n                   style={{height: existing(segments[0]) ? segments[0].offset : 0}}/>\r\n            : nothing\r\n\r\n        const contentStyle = {\r\n            width,\r\n            height: layout.totalHeight,\r\n            transform: temporalScroll === 0\r\n                ? 'none'\r\n                : `translateY(${-temporalScroll}px)`\r\n        }\r\n        const segmentStyle = (offset: px): CSSProperties => {\r\n            return useAutoLayout\r\n                ? {position: 'relative'}\r\n                : {position: 'absolute', top: `${offset}px`}\r\n        }\r\n\r\n        return <div className={classes.container} style={{width, height}}\r\n                    ref={ref => existing(ref) ? children.container = ref : nothing}\r\n                    onScroll={scrolled}\r\n                    onTouchStartCapture={touchStarted}\r\n                    onTouchEndCapture={touchEnded}\r\n                    onTouchMoveCapture={touchMoved}>\r\n            <div className={classes.content} style={contentStyle}\r\n                 ref={ref => existing(ref) ? children.content = ref : nothing}>\r\n                {paddingTop}\r\n                {segments.map(spec =>\r\n                    <div key={spec.id} className={classes.segment}\r\n                         style={segmentStyle(spec.offset)}\r\n                         ref={ref => existing(ref)\r\n                             ? children.segments.set(spec.id, ref)\r\n                             : children.segments.delete(spec.id)}>\r\n                        <MeasuredSegment {...{id: spec.id, Segment, width}}\r\n                                         onHeightChange={heightUpdated}/>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    constructor(props: Props) {\r\n        super(props)\r\n        this.children = {\r\n            container: document.createElement('div'),\r\n            content: document.createElement('div'),\r\n            segments: new Map<SegmentID, HTMLElement>()\r\n        }\r\n\r\n        const layout = ListLayoutImpl.create(props.segmentIDs, Math.round(props.height / 6))\r\n        const focusOffset = calcFocusOffset(this.props.focusOffset, this.props.height)\r\n        const focus = assume(props.focus, focus => layout.getByID(focus))\r\n        const scroll = ensure<px>(assume(focus, focus => focus.offset - focusOffset), 0)\r\n        const segments = calcSegments(scroll, 0, props.height, layout)\r\n        this.state = {scroll, layout, segments, useAutoLayout: true}\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.children.container.scrollTop = this.state.scroll\r\n        this.work.add(this.updateState())\r\n        this.work.add(this.adjustScroll())\r\n        this.work.add(this.focusOnSegment())\r\n        this.work.add(this.callEventHandlers())\r\n        publishAll<Props>(this.props, this.props$.publish)\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Props, prevState: State) {\r\n        const {props, state, children} = this\r\n\r\n        if (prevProps !== props) {\r\n            publishAll<Props>(this.props, this.props$.publish)\r\n        }\r\n\r\n        if (prevState.layout !== state.layout) {\r\n            const {containerScroll, temporalScroll} = this\r\n            const prevScroll = containerScroll + temporalScroll\r\n\r\n            const focusOffset = calcFocusOffset(this.props.focusOffset, this.props.height)\r\n            const currScroll = Math.min(Math.max(projectScroll(\r\n                prevScroll, focusOffset,\r\n                prevState.layout, state.layout\r\n            ), 0), state.layout.totalHeight - props.height)\r\n\r\n            if (Math.abs(this.velocity) <= 0.01) {\r\n                this.temporalScroll = 0\r\n                this.containerScroll = currScroll\r\n            } else {\r\n                const expectedTemporalScroll = Math.ceil(currScroll - containerScroll)\r\n                if (Math.abs(temporalScroll - expectedTemporalScroll) > 1) {\r\n                    this.temporalScroll = expectedTemporalScroll\r\n                }\r\n            }\r\n\r\n            if (!state.useAutoLayout && !prevState.useAutoLayout) {\r\n                Array.from(children.segments.entries())\r\n                    .forEach(([segmentID, element]) => {\r\n                        const prev = prevState.layout.getByID(segmentID)\r\n                        const curr = state.layout.getByID(segmentID)\r\n\r\n                        if (!existing(prev) || !existing(curr))\r\n                            return\r\n\r\n                        const prevScreenOffset = prev.offset - prevScroll\r\n                        const currScreenOffset = curr.offset - currScroll\r\n                        if (prevScreenOffset === currScreenOffset)\r\n                            return\r\n\r\n                        tweenHere(\r\n                            element,\r\n                            (current, to) => {\r\n                                return {\r\n                                    ...current,\r\n                                    y: prevScreenOffset - (to.y - current.y)\r\n                                }\r\n                            },\r\n                            200,\r\n                            [0.445, 0.05, 0.55, 0.95]\r\n                        )\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.work.unsubscribe()\r\n    }\r\n\r\n    private readonly work: Subscription = new Subscription()\r\n\r\n    private readonly children: Children\r\n\r\n    private readonly actions$ = createDispatcher<Actions>(actionsFilter)\r\n    private readonly props$ = createDispatcher<Props>(propsFilter)\r\n\r\n    @Memoize()\r\n    private get height$(): Observable<px> {\r\n        const {height} = this.props$\r\n\r\n        return height.pipe(\r\n            startWith(this.props.height),\r\n            distinctUntilChanged(),\r\n            // log$('height'),\r\n            shareReplay(1)\r\n        )\r\n    }\r\n\r\n    @Memoize()\r\n    private get layout(): Observable<ListLayout> {\r\n        const {segmentIDs} = this.props$\r\n        const {heightUpdated} = this.actions$\r\n\r\n        const updates: Observable<Array<ListItemShape>> = heightUpdated.pipe(\r\n            bufferTime(0, animationFrame),\r\n            filter(buffer => buffer.length > 0)\r\n        )\r\n\r\n        return segmentIDs.pipe(\r\n            scan<Array<SegmentID>, Maybe<Array<SegmentID>>>((prev, curr) =>\r\n                curr === prev ? nothing : curr\r\n            ),\r\n            combineLatest(updates),\r\n            scan<[Maybe<Array<SegmentID>>, Array<ListItemShape>], ListLayout>(\r\n                (layout, [alternateItemIDs, updates]) =>\r\n                    updateLayoutIfNecessary(layout, alternateItemIDs, updates),\r\n                this.state.layout\r\n            ),\r\n            startWith(this.state.layout),\r\n            distinctUntilChanged(),\r\n            // log$('layout'),\r\n            shareReplay(1)\r\n        )\r\n    }\r\n\r\n    private get temporalScroll(): px {\r\n        const {temporalScroll$} = this\r\n        return (temporalScroll$ as BehaviorSubject<px>).getValue()\r\n    }\r\n\r\n    private set temporalScroll(scroll: px) {\r\n        const {temporalScroll$} = this\r\n        const {content} = this.children;\r\n\r\n        (temporalScroll$ as BehaviorSubject<px>).next(scroll)\r\n        content.style.transform = scroll === 0\r\n            ? 'none'\r\n            : `translateY(${-scroll}px)`\r\n    }\r\n\r\n    private readonly temporalScroll$: Observable<px> = new BehaviorSubject(0)\r\n\r\n    private get containerScroll(): px {\r\n        const {container} = this.children\r\n        return container.scrollTop\r\n    }\r\n\r\n    private set containerScroll(scroll: px) {\r\n        const {container} = this.children\r\n        container.style['-webkit-overflow-scrolling'] = 'auto'\r\n        container.scrollTop = scroll\r\n        container.style['-webkit-overflow-scrolling'] = 'touch'\r\n    }\r\n\r\n    @Memoize()\r\n    private get containerScroll$(): Observable<px> {\r\n        const {scrolled, touchStarted, touchEnded} = this.actions$\r\n\r\n        const shouldSample: Observable<Pulse> = scrolled.pipe(\r\n            merge(touchStarted),\r\n            merge(touchEnded),\r\n            merge(interval(0, animationFrame)),\r\n            timestamp(),\r\n            distinctUntilChanged((prev, curr) => curr.timestamp - prev.timestamp < 100),\r\n            sampleTime(0, animationFrame),\r\n            startWith(Pulse)\r\n        )\r\n\r\n        return shouldSample.pipe(\r\n            map(() => this.containerScroll),\r\n            map(Math.round),\r\n            shareReplay(1)\r\n        )\r\n    }\r\n\r\n    @Memoize()\r\n    private get containerScrollVelocity$(): Observable<Velocity> {\r\n        const {containerScroll$} = this\r\n\r\n        const move = containerScroll$.pipe(\r\n            timestamp(),\r\n            // distinctUntilChanged((prev, curr) => curr.timestamp - prev.timestamp < 100),\r\n            pairwise()\r\n        )\r\n\r\n        return move.pipe(\r\n            map(([prev, curr]) =>\r\n                (curr.value - prev.value) / (curr.timestamp - prev.timestamp)\r\n            ),\r\n            startWith(0),\r\n            bufferCount(3, 1),\r\n            map(nearestToAverage),\r\n            filter(existing),\r\n            shareReplay(1)\r\n        )\r\n    }\r\n\r\n    @Memoize()\r\n    private get useAutoLayout$(): Observable<boolean> {\r\n        const {containerScrollVelocity$} = this\r\n\r\n        return containerScrollVelocity$.pipe(\r\n            map(Math.abs),\r\n            map(speed => speed > 3),\r\n            bufferCount(2, 1),\r\n            map(buffer => buffer.filter(isTrue).length > buffer.filter(isFalse).length),\r\n            distinctUntilChanged(),\r\n            // log$('useAutoLayout'),\r\n            shareReplay(1)\r\n        )\r\n\r\n    }\r\n\r\n    @Memoize()\r\n    private get scroll$(): Observable<Velocity> {\r\n        const {containerScroll$, temporalScroll$} = this\r\n\r\n        return containerScroll$.pipe(\r\n            withLatestFrom(temporalScroll$),\r\n            map(([container, temporal]) => container + temporal)\r\n        )\r\n    }\r\n\r\n    private get velocity(): Velocity {\r\n        return this['_velocity']\r\n    }\r\n\r\n    private updateState(): Subscription {\r\n        const {scroll$, layout, containerScrollVelocity$, height$, useAutoLayout$} = this\r\n\r\n        const preload$: Observable<px> = containerScrollVelocity$.pipe(\r\n            bufferCount(3, 1),\r\n            map(calcAverage),\r\n            filter(existing),\r\n            map(Math.round),\r\n            map(velocity => Math.max(Math.min(velocity * 500, 10000), -10000)),\r\n            distinctUntilChanged(),\r\n            // log$('preload'),\r\n            shareReplay(1)\r\n        )\r\n\r\n        const state: Observable<State> = scroll$.pipe(\r\n            combineLatest(preload$, useAutoLayout$, layout, height$),\r\n            map(([scroll, preload, useAutoLayout, layout, height]): State => {\r\n                const segments = calcSegments(scroll, preload, height, layout)\r\n                return {layout, segments, useAutoLayout, scroll}\r\n            }),\r\n            distinctUntilChanged((prev, curr) =>\r\n                prev.useAutoLayout === curr.useAutoLayout &&\r\n                prev.layout === curr.layout &&\r\n                deepEqual(prev.segments, curr.segments)\r\n            ),\r\n            startWith(this.state),\r\n            // tap(state=> console.log(state.useAutoLayout)),\r\n            shareReplay(1)\r\n        )\r\n\r\n        return state.subscribe(state => this.setState(state))\r\n    }\r\n\r\n    private adjustScroll(): Subscription {\r\n        const {containerScrollVelocity$} = this\r\n\r\n        const shouldApplyTemporalScroll: Observable<Pulse> = containerScrollVelocity$.pipe(\r\n            bufferCount(2, 1),\r\n            filter(buffer => !buffer.some(v => Math.abs(v) > 0.01))\r\n        )\r\n\r\n        return shouldApplyTemporalScroll.subscribe(() => {\r\n            const {temporalScroll, containerScroll} = this\r\n            if (temporalScroll === 0)\r\n                return\r\n            // console.log('adjusted')\r\n            this.containerScroll = containerScroll + temporalScroll\r\n            this.temporalScroll = 0\r\n        })\r\n    }\r\n\r\n    private focusOnSegment(): Subscription {\r\n        const {props$} = this\r\n\r\n        const newFocusSegment = props$.focus.pipe(\r\n            distinctUntilChanged(),\r\n            filter(existing),\r\n            map(focus => this.state.layout.getByID(focus)),\r\n            filter(existing)\r\n        )\r\n\r\n        return newFocusSegment.subscribe(segment => {\r\n            const focusOffset = calcFocusOffset(this.props.focusOffset, this.props.height)\r\n            const targetScroll = segment.offset - focusOffset\r\n            this.containerScroll = targetScroll\r\n            this.temporalScroll = 0\r\n        })\r\n    }\r\n\r\n    private callEventHandlers(): Subscription {\r\n        const {scroll$, layout} = this\r\n\r\n        const work = new Subscription()\r\n\r\n        work.add(scroll$.subscribe(scroll => {\r\n            if (existing(this.props.onScroll))\r\n                this.props.onScroll(scroll)\r\n        }))\r\n        work.add(layout.subscribe(layout => {\r\n            if (existing(this.props.onReflow))\r\n                this.props.onReflow(layout)\r\n        }))\r\n\r\n        return work\r\n    }\r\n}\r\n\r\ntype Props = {\r\n    segmentIDs: Array<SegmentID>\r\n    width: px\r\n    height: px\r\n    Segment: Segment\r\n    focus?: SegmentID\r\n    focusOffset?: px\r\n    onScroll?: EventHandler<px>\r\n    onReflow?: EventHandler<ListLayout>\r\n}\r\nconst propsFilter: Pipes<Required<Props>> = {\r\n    segmentIDs: distinctUntilChanged(),\r\n    width: distinctUntilChanged(),\r\n    height: distinctUntilChanged(),\r\n    Segment: distinctUntilChanged(),\r\n    focus: distinctUntilChanged(),\r\n    focusOffset: distinctUntilChanged(),\r\n    onScroll: distinctUntilChanged(),\r\n    onReflow: distinctUntilChanged()\r\n}\r\n\r\ntype State = {\r\n    scroll: px\r\n    layout: ListLayout\r\n    segments: Array<ListItemPosition>\r\n    useAutoLayout: boolean\r\n}\r\ntype Children = {\r\n    container: HTMLElement\r\n    content: HTMLElement\r\n    segments: Map<SegmentID, HTMLElement>\r\n}\r\n\r\ntype Actions = {\r\n    scrolled: React.SyntheticEvent<HTMLDivElement>\r\n    touchStarted: React.TouchEvent<HTMLDivElement>\r\n    touchMoved: React.TouchEvent<HTMLDivElement>\r\n    touchEnded: React.TouchEvent<HTMLDivElement>\r\n    heightUpdated: ListItemShape\r\n}\r\nconst actionsFilter: Pipes<Actions> = {\r\n    scrolled: Pass,\r\n    touchStarted: Pass,\r\n    touchMoved: Pass,\r\n    touchEnded: Pass,\r\n    heightUpdated: Pass\r\n}\r\n\r\nexport const classes = sharedInstance.createStyleSheet({\r\n    container: {\r\n        position: 'relative',\r\n        display: 'block',\r\n        'overflow-x': 'hidden',\r\n        'overflow-y': 'scroll',\r\n        'overflow-anchor': 'none', // https://stackoverflow.com/questions/42205462/disable-chromes-scroll-preserving-feature\r\n        'scroll-behavior': 'auto',\r\n        '-webkit-overflow-scrolling': 'touch',\r\n        contain: 'strict',\r\n        'will-change': 'transform', // https://bugs.chromium.org/p/chromium/issues/detail?id=514303\r\n        '-webkit-font-smoothing': 'subpixel-antialiased'\r\n    },\r\n    content: {\r\n        position: 'relative',\r\n        display: 'block',\r\n        contain: 'strict',\r\n        'will-change': 'transform, height'\r\n    },\r\n    segment: {\r\n        display: 'block',\r\n        'will-change': 'top, height'\r\n    }\r\n}).attach().classes\r\n\r\n","// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random\n\nexport function getRandomIntInclusive(min: number, max: number): number {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive\n}","import * as loremIpsum from 'lorem-ipsum'\r\nimport * as React from 'react';\r\nimport {PropsOf} from '../../../react/PropsOf';\r\nimport {ensure} from '../../../utils/ensure'\r\nimport {getRandomIntInclusive} from '../../../utils/getRandomIntInclusive'\r\nimport {Segment} from '../src/types/Segment';\r\n\r\nexport class SegmentExample extends React.Component<PropsOf<Segment>, State> {\r\n    componentDidMount() {\r\n        this.interval = setInterval(() => {\r\n            if (this.state.type !== 'text')\r\n                return\r\n            const text = loremIpsum({count: getRandomIntInclusive(3, 20)})\r\n            textCache[this.props.id] = text\r\n            this.setState({text})\r\n        }, getRandomIntInclusive(3000, 5000))\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval)\r\n    }\r\n\r\n    render() {\r\n        return <div style={{\r\n            display: 'block',\r\n            width: this.props.width,\r\n            backgroundColor: 'white',\r\n            wordWrap: 'break-word',\r\n            wordBreak: 'break-all'\r\n        }}>\r\n            <div>{this.props.id}</div>\r\n            <br/>\r\n            {\r\n                this.state.type === 'text'\r\n                    ? this.state.text\r\n                    : <img style={{width: this.props.width}} src={this.state.image}/>\r\n            }\r\n            <br/>\r\n        </div>\r\n    }\r\n\r\n    constructor(props: PropsOf<Segment>) {\r\n        super(props)\r\n        const type = ensure(typeCache[props.id], Math.random() > 0.2 ? 'text' : 'image')\r\n        typeCache[props.id] = type\r\n\r\n        let state: State\r\n\r\n        if (type === 'text') {\r\n            let text = textCache[props.id] || loremIpsum({count: getRandomIntInclusive(3, 20)})\r\n            textCache[props.id] = text\r\n            this.state = {type, text}\r\n        } else {\r\n            const image = imgCache[props.id]\r\n                || `https://picsum.photos/500/${getRandomIntInclusive(300, 800)}`\r\n            imgCache[props.id] = image\r\n            this.state = {type, image}\r\n        }\r\n    }\r\n\r\n    private interval: any\r\n}\r\n\r\nconst typeCache: { [id: string]: 'text' | 'image' } = {}\r\nconst textCache: { [id: string]: string } = {}\r\nconst imgCache: { [id: string]: string } = {}\r\n\r\ntype State = { type: 'text', text: string }\r\n    | { type: 'image', image: string }\r\n\r\n\r\n","import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom'\r\nimport ErrorBoundary from 'react-error-boundary'\r\nimport {InfiniteList} from '../InfiniteList'\r\nimport {SegmentID} from '../src/types/SegmentID'\r\nimport {SegmentExample} from './SegmentExample'\r\n\r\nconst segmentIDs: Array<SegmentID> = []\r\nfor (let i = 0; i < 100000; i++) {\r\n    segmentIDs.push(i.toString())\r\n}\r\n\r\nexport class Demo extends React.Component<{}, {\r\n    width: number,\r\n    height: number,\r\n    focusOffset: number\r\n}> {\r\n    render() {\r\n        const {width, height, focusOffset} = this.state\r\n\r\n        return <InfiniteList Segment={SegmentExample}\r\n                             {...{width, height, segmentIDs, focusOffset}}\r\n                             onScroll={this.onScroll}/>\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', () => {\r\n            const width = window.innerWidth\r\n            const height = window.innerHeight\r\n            this.setState({width, height})\r\n        })\r\n    }\r\n\r\n    onScroll = (scroll: px) => {\r\n        if (Math.abs(scroll) < 10) {\r\n            this.setState({focusOffset: 0})\r\n        } else {\r\n            this.setState({focusOffset: this.state.height / 3})\r\n        }\r\n    }\r\n\r\n    constructor(props: {}) {\r\n        super(props)\r\n        this.state = {\r\n            width: window.innerWidth,\r\n            height: window.innerHeight,\r\n            focusOffset: 0\r\n        }\r\n    }\r\n}\r\n\r\nconst root = document.getElementById('root')!\r\nReactDOM.render(\r\n    <ErrorBoundary FallbackComponent={({componentStack, error}) =>\r\n        <pre style={{width: window.innerWidth, wordBreak: 'break-all'}}>\r\n            {JSON.stringify(componentStack, null, 4)}\r\n            {JSON.stringify(error, null, 4)}\r\n        </pre>\r\n    }>\r\n        <Demo/>\r\n    </ErrorBoundary>,\r\n    root\r\n)\r\n\r\n"]}