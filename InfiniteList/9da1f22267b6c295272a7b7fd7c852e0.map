{"version":3,"sources":["..\\..\\..\\typecheck\\existing.ts","..\\..\\..\\utils\\cloneFastBinaryIndexedTree.ts","..\\..\\..\\utils\\ensure.ts","..\\..\\..\\utils\\expandFastBinaryIndexedTree.ts","..\\..\\..\\utils\\nothing.ts","..\\..\\..\\layouts\\ListLayoutImpl.ts","..\\..\\..\\rxjs\\applyMiddleware.ts","..\\..\\..\\rxjs\\createPublishers.ts","..\\..\\..\\rxjs\\createSubjects.ts","..\\..\\..\\rxjs\\createDispatcher.ts","..\\..\\..\\rxjs\\Pipe.ts","..\\..\\..\\typecheck\\isFalse.ts","..\\..\\..\\typecheck\\isTrue.ts","..\\..\\..\\typecheck\\isFunction.ts","..\\..\\..\\utils\\assume.ts","..\\..\\..\\utils\\publishAll.ts","..\\..\\..\\utils\\Pulse.ts","..\\..\\..\\utils\\statics.ts","..\\..\\..\\utils\\forDuration.ts","..\\..\\..\\utils\\nextAnimationFrame.ts","..\\..\\..\\utils\\uniqueID.ts","..\\..\\..\\view\\tween-here\\calcOutline.ts","..\\..\\..\\view\\hasStyle.ts","..\\..\\..\\view\\tween-here\\calcOutlineOrigin.ts","..\\..\\..\\view\\tween-here\\calcTransform.ts","..\\..\\..\\view\\tween-here\\tweenHere.ts","..\\src\\functions\\calcFocusOffset.ts","..\\src\\functions\\calcSegments.ts","..\\src\\functions\\projectScroll.ts","..\\src\\functions\\updateLayoutIfNecessary.ts","..\\..\\..\\react\\measure\\measuring.tsx","..\\src\\MeasuredSegment.tsx","..\\InfiniteList.tsx","..\\..\\..\\utils\\getRandomIntInclusive.ts","SegmentExample.tsx","InfiniteList.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,kBAA4B,KAAkB;IAC1C,OAAO,OAAO,KAAK,KAAK,WAAW,IAAI,KAAK,KAAK,IAAI,CAAA;AACzD,CAAC;AAFD,ACAA,4BDEC,yCCF2D;ADG5D,ACDA,ACFA,qBFG+B,KAAe,UCDH,MAA6B,QCFvB;AAEjD,IFEI,ACDA,IAAM,GDCC,CAAC,ECDI,ECDU,CDCP,GDCC,CAAC,ACDE,ACDkB,EAAE,GFEjB,CAAC,CAAA,OEF+B,oBDCd,CAAC;ADE7C,AGLA,CHKC,GEFG,IDCI,GCDG,aDCa,EAAE,MAAM,CAAC,ACDX,CAAC,KAAK,CAAC,IAAI,KDCgB,CCDV,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,ACHa,CDGZ,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAA;AFA3E,AECA,ACFA,CDEC,ODCO,MAAM,EAAE,MAAM,CAAC,MAAM,KDA5B,GGFG,MAA6B,EAC7B,aAAqB;ADFzB,AEFa,IDMT,CFAC,CAAC,CAAA,CGNO,OAAO,EDMH,CCNe,EDMZ,ECNgB,CAAA,CFInC,ACEuB,CAAC,KAAK,CAAC,aAAa,CAAC,CAAA;IFEzC,AEDA,IAAI,EFCE,CAAC,OAAO,CAAC,EEDE,IAAI,CAAC,iBFCA,MAAM,CAAC,OAAO,CAAC,CAAC,CAAA;IACtC,IEDI,EFCE,CAAC,IEDG,OFCQ,CAAC,GAAG,MAAM,CAAC,WAAW,CAAC,CAAA;AIT7C,IJWI,AEDA,IAAM,GFCC,MAAM,AEDE,CFCF,EEDK,IAAI,qBAAqB,CAAC,uBEVY;AAC5D,ACEA,ALSA,CAAC,OEDO,MAAM,EAAE,MAAM,CAAC,EGPnB,IHOyB,EGPH,CHOM,CGPJ,KAAe,OHOE,KEVI;AACjD,AJAA,IKII,IHMI,GGNG,MAAM,CAAC,IAAI,CAAC,CHMC,EAAE,GGNG,CAAC,EHME,CAAC,gBAAgB,eFAhD,kBIV6E;AAC9E,AEDA,KJWK,CAAC,CAAA,EGNG,GAAG,CAAC,UAAA,GAAG,ACLmC,QAAqB,QFClC;AACtC,IEDI,AJYA,IGRgB,EHQV,CIZC,AJYA,IGRS,ECJH,CAAC,EJYE,CAAC,CIZC,CAAC,CJYC,CGRF,GAAC,GAAG,ACJK,CAAC,CJYC,CAAC,CGRL,KAAK,CAAC,EHQQ,CGRL,AHQM,CGRL,AHQK,CGRJ,MAAM,CAAC,GAAG,CAAC,CAAC,KAAE,qBDH0B;AAChF,AGLA,ILgBI,IAAI,CIZC,GAAG,CAAC,CJYC,CAAC,MAAM,CAAC,CIZT,GAAG,CJYW,SAAS,CAAC,GKhBD,GLgBO,CEXH,AFWI,EAAE;AER9C,AGLA,IFIoB,CAAkC,CAAC,ECHnC,AJaZ,MAAM,CIbM,AJaL,MAAM,CAAC,EKd2B,CDC3B,AJaG,GIbF,CCD2C,EDCxC,GJaQ,CIbL,AJaM,MAAM,CAAC,CAAA,EIbZ,KAAoB,IAAK,OAAA,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAzB,CAAyB,KAAE;AEJlF,IJuKI,AGnKA,CLcC,IGVI,EEJE,IFII,CAAC,CEJC,CAAC,IAAI,CAAC,GFIN,EDgKQ,AGpKG,CAAC,CFIR,EAAE,IAAI,IAAK,CDgKU,EACjB,ICjKO,GDiKmB,EAC1B,CClKa,AGRW,CHQV,MAAM,CDkKc,AClKb,EDmKrB,ECnKyB,EAAE,IAAI,CAAC,EAAzB,CDmK0B,ACnKD,CAAQ,CDoKxC,ACpKwC,cDoKH;ACnK9D,AGRA,ANkBA,CGVC,AHUA,GIfmB,CAA8D,CAAC,EFoK1D,CGnKhB,GAAG,CAAC,UAAA,GHmKyB,AGnKtB,GHmKS,aAAa,CAAI,YIvKS;ACItC,AJFb,AGDA,ANAA,QEuKyB,AKpKZ,AFAO,CDAX,GGAQ,GAAG,AHAL,ACAK,CDAJ,IFoKgB,GAAP,EKpKD,AFAF,CDAL,ECAM,EHoKS,AEpKX,CFoK8B,AGpKzB,CDAH,GGA0B,AFApB,CDAF,GGA0C,AFApC,CDAD,EDI/B,IIJoE,CHArC,IEHe,EFGT,CAAC,EGAwC,AFAvC,EEA6B,AFA3B,CEAqC,CAAA,AHAlC,CAAC,ECAF,EDAM,CJcjD,CIdmD,IAAI,CAAC,EAAzB,CAAyB,CAAQ,CAAA;AECjE,AFAA,CAAC,OFoKwB,cAAS,GAAT,CInKrB,QJmK8B,CAAyB,CInKzB;AFLlC,AIFA,IFSI,ADJgB,CAAwB,CAAC,EHsKpB,AIlKf,QAAQ,CETM,EFSH,GETa,GN2KG,GAAZ,YAAY,CAAqB,GErKzD,MEGkC,CAAc,UAAU,CAAC,CAAA;IACxD,AETA,IN2KqB,CGtKhB,ECIE,AETA,IHKI,CAAC,AGLA,CFSC,CAAC,GETG,GFSG,CAChB,CDLS,AGLS,CN2Ka,AIjK9B,AEViB,GN2KD,AGtKJ,EAAE,ECKP,EAAE,ADLS,IAAK,IHsKO,CAAuB,EGtK9B,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,ICKlB,ADLsB,CCKR,ADLS,EAAzB,CAAyB,CAAQ,CAAA,GCKT,CAAC,EAAC,EAClD,iCAAe,CAAc,QAAQ,EAAE,UAAU,CAAC,CACrD,CAAA;AACL,ADPA,AGLA,ACFA,CHcC,ADPA,AGLA,GN2KM,CAAC,WO7Ke,KAAU;AHMjC,ADHA,AGHA,INSkB,AORd,OAAO,KAAK,KAAK,IPQG,AORC,CDCxB,ACDwB,EPQrB,UAAqB,EGFxB,ICOA,CJL0D,EAClC,aAAuB,EACvB,OAAgD;AQXzE,ADEA,CAAC,OPQwB,YQVE,CAAM,iBRUR,EAAA,mBAAuB;AOVhD,ICCI,IRUqB,GQVd,OAAO,CAAC,KAAK,ADCvB,QPSwB,EAAA,AQVS,CAAA,aRUkC,GAAG,EAAE;AQTzE,CAAC,ORUO,IAAM,SAAS,GAAG,IAAI,GAAG,EAAE,CAAA;AQZnC,ACAA,QTaQ,OAAO,CAAC,OAAO,CAAC,QQXvB,ERWwB,EAAE,EAAE,KAAK,OSbe;AACjD,ACDA,YVcY,IAAI,IUd6B,KVcpB,AUd4B,CVc3B,CUd6B,EVc1B,CAAC,EAAE,CAAC,EUd0D,mBDCzC;AAClD,ICDI,MAAM,CAAC,IAAI,CVcC,AUdA,MVcM,EUdE,CAAC,CVcC,AUdA,OAAO,CAAC,GDCD,OCDC,GAAG,GVca,CAAC,AUdV,EVcY,CAAC,CAAA,GUdb,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAzB,CAAyB,CAAC,CAAA;ACAxD,AFKX,ACJA,CAAC,OCDU,IXeC,CWfI,GAAU,IAAI,CXeT,AWfS,CXeR,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,CAAA;AUhBpC,IDM0B,ITWlB,CAAC,CAAC,CAAA,SSX+E,YCJxF;AEFD,QZmBQ,CSbkB,GTaZ,OSb2E,EAA/D,KTaE,GAAG,IAAI,SSbsD,EAA/D,IAA+D,EGNxC,iBZmBO,CAAC;AYlBzD,QHK0B,ITcd,gBAAgB,EAAE,KSd2D,EGLxD,MZmBU;AYjB3C,YZkBY,KYlBY,CZkBN,EAAE,EYlBwB,KZkBjB,CAAC,MAAM;ISd9B,AGHA,IHGM,CTeD,CAAC,CAAA,AYlBC,CHGG,GAAG,CGHD,CAAC,IHGM,CAAC,CGHD,CAAC,IHGM,CAAC,KGHN,CHGY,EGHT,CHGY,CAAC,AGHX,CHGY,CAAA,EGHR,IAAK,OAAA,GAAG,GAAG,IAAI,EAAV,CAAU,EAAE,CAAC,CAAC,CAAA;AACrD,CAAC,GHGG,ITgBI,AShBE,ITgBI,MShBM,GAAG,GTgBG,GAAG,AShBA,CAAC,GTgBG,EShBE,CTgBC,AShBA,CAAC,CTgBC,CAAA,AShBC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;AGLzD,IHMI,ITgBI,AShBA,CAAC,MTgBM,CAAC,OAAO,CAAC,EYpBvB,MHIkB,CAAC,CTgBK,GShBD,CAAC,ETgBM,EAAE,AShBJ,ETgBM,QShBI,CAAC,MAAM,GAAG,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,sBAAW,CAAC,EAAE;AGFpF,QHGQ,ITgBI,GShBG,CTgBC,CAAC,IYnBW,KZmBF,AYnBsB,CZmBrB,GAAG,CAAC,CShBT,CTgBW,AShBX,CTgBY;Aa1BlC,IDQI,CHGC,GGHG,KAAK,CAAC,EZmBE,IYnBI,CCRc,Eb2BZ,EYnBG,CAAC,GCRoB;IJY1C,IGHI,GHGG,CTgBC,GShBG,AGHA,SZmBS,CAAC,GAAG,CAAC,EAAE,CYnBT,CZmBW,AYnBX,MZmBiB,CAAC,CAAA,MShBrB,UAAU,GAAC;AAC9B,AKbA,CLaC,GGHG,OAAO,CZmBC,MYnBM,CAAC,KAAK,CAAC,CZmBC,CAAC,CYnBC,KAAK,CAAC,IZmBI,CAAC,CYnBC,CAAA,OZmBQ,CAAC,GAAG,CAAC,EAAE,CAAE,EAAE,MAAM,CAAC,CAAA;ASvBlE,AGKA,AGXA,CHWC,OZmBO,CAAC,CAAC,CAAA,Ca7BN,YJYH,UIZU,IAAI,OAAO,CAAO,CEDkB,SFCjB,IAAI,IAAK,OAAA,UAAU,CAAC,IAAI,EAAE,QAAQ,CAAC,EAA1B,CAA0B,CAAC,EAAA;ADMlE,AGNA,ACDA,QhBgCQ,OAAO,GgBhCG,ChBgCC,cAAc,CACrB,AYtBX,aZsBwB,mBACT,OAAO,GACX,SAAS,EACT,YAAY,EACZ,cAAc,CACjB,CAAA;AYzBT,IZ0BI,AerCA,CfqCC,MerCM,CDDP,GCCW,CAAC,MAAM,EAAE,CAAC,CHWQ,KAAoB,EGXpB,CDDtB,ACCuB,EAAE,CAAC,CDDtB,ACCuB,ODDhB,CAAC,CCCwB,CAAC,CAAC,CAAC,MDD3B,OAAO,IAAI,OAAA,qBAAqB,CAAC,OAAO,CAAC,EAA9B,CAA8B,CAAiB,EAAC;AEClF,CHAC,GbuCU,AY3BP,IAAM,EGXA,CAAC,IHWM,AGXF,GHWK,CGXD,EAAE,ACDO,CDCN,CAAC,CCDiB,KJYT,CAAC,AGXF,EAAE,CAAC,EHWI,CZ2BnB,AY3BoB,CAAA,EZ2BlC,EetCqC,CAAC,EAAE,CAAC,CAAC,GfsC3B,EAAc;AazCjC,AEIA,CAAC,GHWG,AIZA,IhBuCI,AY3BA,AIZE,IhBuCE,AgBvCE,CJYD,CAAC,CIZG,ChBuCD,CAAC,CgBvCG,CAAC,CJYD,CZ2BC,IY3BI,CZ2BC,AY3BA,CZ2BC,EAAE,CY3BC,ICb7B,MGCyC,EAAE,CAAA,SJYH,CAAC,OAAO,CAAC;AGdlD,CDCC,GEGU,IJWH,AIXG,IhBqCoB,GY1BhB,IZ0BuB,OgBrCtB,EDDf,ACCiB,IJWI,CAAA,GZ0BuB,CAAA,WgBrCrB,CAAQ;AFLhC,IFiBI,AIXA,IJWM,AIXA,ChBoCqC,AgBpCpC,GAAG,EJWE,EIXE,CJWC,AIXA,IAAI,CJWC,AIXD,CJWE,IAAI,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,EEfvC,KFeuC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,EAA7C,CAA6C,CAAC,CAAA;IAClF,AIXA,IhBoCI,AgBpCE,CAAC,EJWA,CZyBG,AgBpCA,IAAI,ChBoCC,AYzBF,AIXE,CJWD,CAAC,CZyBG,AYzBF,AIXE,CJWF,AIXE,GhBoCI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAA;AYxB5C,AKnBA,CLmBC,GIVG,IhBmCI,GgBnCG,ChBmCC,CgBnCA,CAAC,GAAA,EAAE,CAAC,GAAA,EAAE,KAAK,IhBmCA,CAAC,EgBnCD,EAAE,ChBmCI,CAAC,EAAE,EgBnCD,KCTkB,GDSlB,EAAC,CAAA;AJIhC,AKXA,ADQA,CAAC,WhBkCiC,MiB1CT,CjB0CgB,IiB1CI,ajB0CG,CAAA,OYzB/C;AAED,AInBA,ICCI,KjByC8C,EiBzCvC,CAAC,CAAC,KAAK,KLkBY,AKlBP,KLkB2B,CKlBrB,IAAI,CDOhC,ICPqC,KAAK,EAAE,IAAI,sBAAW,CAAC,KAAK,CAAC,CAAC,CAAC;AACrE,ACJA,CDIC,GLkBG,IZuBI,AYvBE,IZuBI,GYvBG,GZuBG,AYvBA,GZuBG,IAAI,CAAC,GYvBG,CAAC,KAAK,CAAC,CAAA,GZuBI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,0HkB7CU;ADEhE,ACDA,INsBI,IZuBI,AYvBA,IZuBM,CYvBD,CAAC,IZuBM,EYvBA,CZuBG,IAAI,AYvBF,CZuBG,AYvBF,EKnBzB,ELmB6B,UZuBY,CAAC,UAAU,CAAC,AYvBb,CAAC,IZuBiB,CAAC,CAAA,CYvBX,CAAC,8GMtBS;AAC3D,QlB6CQ,AYvBA,OZuBO,AYvBA,EZuBC,EAAE,IAAA,EAAE,KAAK,EYvBH,CAAA,IZuBG,EAAE,MAAM,QAAA,EAAE,MAAM,QAAA,EAAC,CAAA,6FkB7CW;AACrD,IlB6CI,AYvBA,CZuBC,MYvBM,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,OMtBG,GNsBH,GAAG,IAAI,OAAA,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,OAAO,CAAC,EAAvB,CAAuB,CAAC,CAAC,CAAA;AACjE,AMtBA,CNsBC,GZwBU,mCAAU,GAAjB,GkB9CqC,OlB8CnB,KAAa;AY7BnC,AMfA,QlB6CQ,IAAI,IAAI,CAAC,CkB7CC,GlB6CG,KAAK,CAAC,EAAE,SYzB5B;AMnBD,YlB4C+B,OAAO,QkB5CJ,GAAY,MlB4CD,CAAA;IkB3CzC,IAAI,ClB2CuC,MkB3ChC,GAAY,yBAAW,CAAC,GAAG,CAAC,CAAA;IAEvC,IlB0CI,AkB1CE,IlB0CI,EAAE,GAAG,GkB1CG,ClB0CC,CAAC,CkB1CC,MlB0CM,AkB1CA,ClB0CC,AkB1CA,KlB0CK,CAAC,CAAA,SkB1CU,CAAC,GAAG,CAAC,CAAC,SAAS,CAAA;IAC3D,IlB0CI,AkB1CA,IlB0CI,ekB1CI,CAAC,MlB0CM,CAAC,EAAE,CAAC,EAAE,AkB1CA,CAAC,EAAE;ACXhC,QDYe,IlByCgB,AkBzChB,OlByCuB,MkBzCtB,EAAE,ClByC6B,CAAA,WkBzC5B,EAAE,qBAAK,EAAE,uBAAM,CAAW,wECZI;AACjD,QDYQ,ClBwCyC,GkBxCnC,SAAS,GAAG,qFAAU,CAAC,YAAY,CAAC,CAAA,6CCZO;AACzD,ACFA,QpBsDQ,AkBxCA,IlBwCM,AkBxCA,MlBwCM,EkBxCE,ClBwCC,EkBxCE,ElBwCE,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,iDkBxCtB,CAAC,SAAS,CAAC,CAAA,mDEdU,IDEI;AACzD,ACFA,ACDA,QrBuDQ,AkBxCM,IlBwCA,AkBxCA,MlBwCM,GAAG,IAAI,CAAC,cAAc,CAAC,ImBpDF,MnBoDY,AqBvDN,CrBuDO,KAAK,CAAC,CAAA,4GoBtDR,oBFewB,EAD7D,eAAO,EAAE,mBAAW,CACyC;ACX5E,ACHA,ACAA,QrBsDQ,AkBvCA,OlBuCO,AkBvCA,ElBuCC,CkBvCE,ClBuCA,IAAA,AmBnDY,EnBmDV,AqBtDY,EFGW,EAAE,CnBmDpB,CmBnD+B,EAAE,GEHJ,CrBsD7B,CqBtD+B,CrBsD7B,KmBnDsD,CnBmDhD,OqBtDyC,CrBsDzC,EAAE,EoBtDkB,IpBsDZ,QAAA,EAAC,CAAA;AoBrD1C,AEFA,ItBwDI,AmBpDsD,AEFtD,CrBsDC,MqBtDM,CHeC,CAAC,EAAE,OAAO,CAAC,CAAC,EGfP,CAAK,KFEoC,EAAA,IEFzB,EAAE,SFE8C,KEFhC,CDAE,ECAC,CAAC,CAAC,ACFE,CDEF;ADCtD,ACAA,ACDA,CDCC,GrBuDU,AmBrDP,AGHE,IHGI,IDaE,AIhBE,CJgBD,EAAE,AIhBE,EAAE,CHGC,AGHD,GHGI,CDaD,CAAC,CAAC,OCbA,IAAa,SnBqDX,GAAtB,UAAuB,IAAY,EAAE,EAAU,IoBvDc;AACjE,ACHA,ACGA,ACJA,QvB2DQ,AmBrDA,InBqDI,AkBxCA,GCbG,CnBqDC,CAAC,AkBxCA,EAAE,ElBwCE,CsBvDQ,CJeN,CAAC,ElBwCE,CAAC,AkBxCA,CAAC,AIfW,CtBuDV,CsBvDY,OAAW,EJeb,AIdV,CJcW,CAAC,CGhBxC,EHgB2C,CIdL,EAAE,EFDI,EFeM,CAAC,CAAC,AIdM,CJcL,KKnBI;AHK1D,AGJA,IDKI,IAAM,ItBqDoB,AkBvClB,ACbA,IAAI,AGDE,CHCD,CDaC,ACbA,CnBoDmB,AsBrDS,CJc1B,ClBuCmB,AmBpDlB,AGD2B,CtBqDT,AsBrDS,EJcxB,CAAC,ACbA,CAAC,EDaE,CAAC,ECbE,GAAG,GAAG,GDaG,CAAC,CAAC,GAAG,AEfJ,MGJM,CLmBK,CAAC,CAAC,CAAC;AEdvD,AGHA,ACHA,IFQI,IAAM,CtBmD8B,AkBtC/B,CAAA,ECbG,IAAI,AGAE,CHAD,CAAC,CGAG,EHAA,EILS,EJKL,AGAE,CHAD,AGAE,GCLY,EAAE,CJKV,GAAG,EGAI,CHAD,AGC9B,IAAI,ACN6C,CDM5C,CCN8C,EDM3C,CACJ,CCP+D,EAAE,CDO7D,CAAC,ACP0E,GDOvE,CACJ,CFLqC,EINE,GFWjC,GAAG,MAAM,EACf,MAAM,GAAG,OAAO,CACnB,EACD,CAAC,CACJ,CACJ,CAAA;AFTL,AINA,IFgBI,ACbA,CLkBC,GlBsCG,AsB3CE,ACbA,CJKD,CAAA,EnBmDK,AuBxDA,GDaG,ACbA,GDaG,CCbC,CvBwDC,AuBxDA,GvBwDG,CsB3CC,CAAC,MCbM,CAAC,IDaI,CAC9B,CtB0CuB,AuBxDS,CvBwDU,EsB1CtC,ACd+B,CDc9B,CtB0CyC,CAAC,CsB1CvC,CACJ,GFZiC,CEY7B,CAAC,AElB8B,CDGO,CAAC,CvBwDU,AsBzC7C,ACfmC,CvBwDW,AsBxClD,ItBwCsD,CAAC,CsBxCjD,CtBwCmD,EsBxChD,EtBwCoD,CAAC,GsBxC/C,GAAG,ItBwCsD,CAAC,CAAC,AsBxClD,CtBwCoD,CAAC,AsBvC7E,CtBuC6E,KsBvCvE,GAAG,MAAM,GAAG,OAAO,CAC5B,EACD,MAAM,CAAC,WAAW,CACrB,CACJ,CAAA;AFhBL,AILA,INoBI,ACdA,AGgBA,ACrBA,CJKC,CAAA,EnBmDG,AsBnCA,ACrBE,GLmBC,ClBqCG,AuBxDA,GAAG,GvBwDG,AkBrCF,CAAA,AEdd,EpBmDmB,KoBnDC,CEgBR,CFfZ,AEea,ECrBM,CAAC,CHMoE,CIPpD,CJQpC,CGPwB,CvBwDC,AsBnCJ,CtBmCuB,AsBnCtB,ACrBI,IvBwDsB,AsBnCtB,CtBmCuB,AoBjDU,CIRD,CJS1D,CIRoC,EDAV,GHQG,CGRC,CvBwD6B,CAAC,EAAE,AuBxD5B,CvBwD6B,EAAE,EsBnC/B,CAAC,AErBkD,CxBwDhB,AuBxDnC,CvBwDoC,AwBvDlC,CDDA,CAAC,GDqBK,CAAC,CEpB8B,CFoB5B,CCrBD,CvBwDoC,AuBxDnC,CvBwDoC,GuBxDhC,CvBwDoC,AuBxDnC,CvBwDoC,CuBxDlC,CAAC,EvBwDqC,AuBxDxD,CAAmB,CAAC,CvBwDuC,AuBxDvC,CvBwDwC,CAAE,CAAC,CAAA;AkBpCrG,CAAC,GCdS,ACAN,AGLA,ACCA,IxBuDI,AmBnDE,AGgBF,ACrBA,ACCA,IxBuDM,AsBnCA,KEpBG,ExBuDI,CwBvDD,CFoBG,CtBmC0B,EAAE,AsBnCzB,CtBmCyB,AoBnD/C,EAAA,CEgB0B,CAAC,CCrBZ,ACCW,CDDV,ACCU,GFoBM,CAAC,ACrBb,CAAC,IAAI,GDqBgB,CFhB2B,AEgB1B,IHhBH,CGgBQ,CHhBxC,ECAqE,AEgB1B,IFhB8B,IEgBtB,CAAC,CCrBvB,CJKxB,ACAoE,AGL3C,CDqByB,CHhBhD,EIL2B,CAAC,GHK8C,CEgBlB,CFhBU,AEgBV,CFhBkB,IDArE,CAAoB;ADL3C,ICMU,ACAN,AIHA,IxBsDI,AmBnDE,AGgBF,ACrBA,ACEE,IFmBI,CtBmCD,EuBxDE,EvBwDE,CAAC,CsBnCG,EtBmCA,AuBxDA,CDqBG,ACrBH,GCEM,CFmBC,CAAC,CEnBC,CxBsDD,AoBnDzB,CpBmD0B,AsBnCE,CFhB5B,AEiBQ,ItBkCuB,AsBlCnB,AEpBqB,CFoBpB,AEpBqB,CxBsDD,CAAC,EsBlCjB,AEpBqB,CFoBpB,AEpBqB,CxBsDD,GoBnDqB,CFa9D,ACboC,EnBmDW,AmBnDrC,AGiBkB,CtBkCoB,AsBlCnB,EEpBa,GxBsDW,AsBlCnB,EtBkCqB,CAAC,AsBlCnB,AEpBW,ExBsDU,AmBnD7C,EnBmD+C,AmBnD7C,IGiB8B,CAAC,GAAG,GHjB/B,CAAkB,IGiBqB,EAC9C,MAAM,CAAC,IAAI,GAAG,CAAC,CAClB,CAAA;IHjBL,ACDA,AGLA,IJMM,AGkBF,ACxBE,ACEF,IxBsDI,CsBhCC,EEtBL,EFsBS,CHlBG,CnBkDD,CAAC,CmBlDG,AKJT,CLIU,AGkBF,AEtBP,ExBsDS,CAAC,AmBlDE,AGkBF,EFnBrB,CDC0B,AKJT,CxBsDQ,AoBnDzB,AGL2B,CvBwDD,EuBxDI,CJMC,AKJT,CLIU,AGkBF,EAAE,CHlBG,CINC,CHKlB,CpBmDkB,AoBnDjB,CpBmDkB,AsBhCA,ACxBE,CvBwDD,AoBnDjB,CpBmDmB,AoBnDlB,CpBmDmB,CAAA,AoBnDjB,AEmBiB,CFnBhB,EDCqB,ACDnB,AIHC,CLIkB,ACDlB,AIHC,CJGA,EEmBmB,ACxBE,EDwBA,CCxBG,GCEf,CFsBiB,ACxBE,ACElB,CDFmB,CDwBD,EAAE,GCxBK,ACElB,CDFkB,ACEjB,MAAM,CAAC,EAAE,CAAC,EAAE,UAAA,EAAE,IAAI,OAAA,EAAE,CAAC,MAAM,EAAT,CAAS,CAAC;ILK3E,AINA,ACCI,CAAuE,CAC1E,CAAA,CLIK,AINA,CvBwDD,GsBhCG,MHlBQ,EGkBA,CHlBG,AGkBF,CHlBG,GAAG,AGkBF,CAAC,EHlBI,CINC,GDwBC,ACxBE,CJMC,AGkBF,ACxBE,CJMC,GAAG,MGkBI,CAAC,IHlBM,CAAA,AGkBD,CAAE,CAAC,CAAA,ECxBI,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAA;IJOjF,AINA,ACEA,IxBsDI,AmBlDE,AKJF,CFsBC,ECxBE,GJMK,CnBkDD,AuBxDA,CAAC,CJOR,KnBiDc,AuBxDA,CvBwDA,EuBxDG,ACEA,CDFC,CCEC,KLKb,CAAS,CAAC,GIPa,CJOT,CAAC,CIPW,IJON,GAAG,CAAC,EAAE,CAAC,KAAK,GAAG,EIPY,CAAC,CJOT,AIPS,CJOR,KAAK,CAAC,GAAG,WAAW,CAAC,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAA;AIN5F,CAAC,GvBwDG,AmBjDA,CnBiDC,AsBhCA,GHjBK,AKLF,MLKQ,GACR,AKNS,GAAG,SAAS,CAAC,ELMhB,CAAS,CAAC,CKNW,EAAE,CLMT,AKNS,CLMR,MAAM,GAAG,CAAC,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,WAAW,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,CAAA;AIhBhG,IvBkEW,AmBhDP,AGgBA,IHhBM,AKPF,GFuBG,GHhBK,GAAG,AKPF,CAAC,CFuBC,CAAA,IEvBK,CAAC,OAAO,CAAC,CAAA,IDHhC,EvB0DqB,GAAlB,UAAmB,QAAY,uCmBhDP,CACpB,mFAAS,CAAC,UAAU,EAAE,UAAU,CAAC,EACjC,2EAAK,CAAC,MAAM,EAAE,MAAM,CAAC,CACxB,CAAA;AGcL,CAAC,GHZG,CKXC,GxBuDG,GmB5CG,CnB4CC,IAAI,CAAC,AmB5CA,CAAA,GnB4CI,KAAK,CAAC,EAAE;AmB3C7B,AGvBA,CHuBC,GKVG,IAAI,IxBqDuB,OAAO,CoBvD5B,EAAE,GAAG,EIEC,CxBqD+B,AwBrD9B,CxBqD8B,OsBhC9C,QFvBsB,AIEU,CAAC,CJFT,CAAA,AIEW;ALbpC,QKcQ,CxBoDyC,QwBpDhC,GJFb,AIEgB,QJFR,CAAC,AIEgB,CAAC,EJFd,CAAC,EIEkB,EAAE,CLSpC,AKToC,EJFb,EAAE,EAAE,CAAC,CAAA;QpBuDrB,AwBpDA,IxBoDI,KAAK,AwBpDA,CAAC,ExBoDE,AoBrDV,EICY,CAAC,CxBoDC,CAAC,GoBrDP,GAAG,QpBqDkB,AwBpDA,CxBoDC,AwBpDA,CAAA,SxBoDU,CAAC,KoBrDnB,CAAC,EpBqD0B,CAAC,CAAA,GoBrDpB,CAAC,CAAA;KIEpC,GxBoDG,IAAM,KAAK,GAAG,AoBpDlB,KpBoDuB,EoBpDhB,CAAC,EpBoDoB,GoBpDf,CpBoDmB,AoBpDlB,CpBoDmB,IAAI,CAAC,CAAC,CAAC,EoBpDhB,GpBoDqB,AoBpDlB,GpBoDqB,CAAC,CAAC,CAAC,AoBpDlB,CpBoDmB,AoBpDnB,KpBoDwB,CAAA;IwBlDzD,IxBmDI,GwBnDG,CxBmDG,EAAE,GAAG,GoBpDf,AICgB,CxBmDG,AwBnDH,CxBmDI,KoBpDb,CAAC,CpBoDmB,CAAC,GoBpDf,CAAC,CpBoDmB,CAAC,CAAA,MoBpDX,GAAG,MAAM,CAAA;AIEpC,CAAC,OxBmDO,IAAM,MAAM,EoBpDV,CpBoDa,IAAI,CAAC,AoBpDZ,GAAG,WpBoDuB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,aoBpDlB,CAAC,OAAO,CAAC,CAAA;AIlB7C,QxBuEQ,IAAM,MAAM,EoBpDV,CpBoDa,IAAI,CAAC,AoBpDZ,GAAG,WpBoDuB,CAAC,UAAU,CAAC,AoBpDzB,CAAC,IpBoD6B,AoBpDzB,CpBoD0B,AoBpDzB,AIAlC,CxBoD2D,AoBpDxB,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAA;QpBqD3D,OAAO,EAAC,EAAE,CoBnDR,GpBmDQ,EAAE,IoBnDD,CpBmDM,EoBnDH,KpBmDG,EAAE,MAAM,QAAA,EAAE,MAAM,AoBnDN,CAAC,MAAM,CpBmDD,CoBnDG,CpBmDF,CAAA,IoBnDQ,CAAC,CAAA;IpBoD/C,CAAC,eoBnDD,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAA;AK3BrC,IzBgFW,gBoBpDP,OAAO,CAAC,CK5BkB,IL4Bb,CAAC,SAAS,EpBoDA,CoBpDG,EpBoD1B,UAAwB,IAAQ,EAAE,EAAM,0DoBpDT,CAAC,+EAAO,CAAC,SAAS,CAAC,CAAC,CAAA;AK3BvD,QzBgFQ,IAAI,IAAI,CAAC,GoBnDb,CpBmDiB,KAAK,CAAC,EAAE,OyBhFS,KL6B5B,uCAAkB,EAAE,EAAA;AK5B9B,ACFA,Y1BiF8B,OAAO,EAAE,CAAA,K0BjFP,0CDEqB;AACrD,ACFA,S1BgFwC,WoBnDpC,SK3B0B,AL2BA,AM7BC,CN6BD;AK1B9B,ACDA,Q1B+EQ,IAAM,QAAQ,AoBnDlB,GpBmDqB,CoBnDjB,QAAQ,CAAC,GAAG,CAAC,CpBmDU,CAAmB,IAAI,CAAC,AoBnD3B,CAAC,KAAK,EAAE,CK3B0B,EzB8EI,CAAC,IAAI,CAAC,C0B/EH,C1B+EK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAE,CAAC,CAAA;AyB7E9F,ACAA,Q1B8EQ,IAAM,MAAM,GAAG,GoBnDf,YpBmDqB,CAAmB,IAAI,CAAC,IoBnDvC,CK3B6B,MzB8EqB,CAAC,EAAE,A0B9Ef,C1B8EgB,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAE,CAAC,CAAA;AyB5EtG,ACCA,Q1B4EQ,IAAM,OAAO,CoBnDX,EpBmDuC,EAAE,CAAA,QoBnD5B,GAAG,uBAAU,CAAC,EK1B2B,ML0BnB,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAA;AKxBtF,ICDqC,I1B6E7B,KAAK,IAAI,CAAC,CyB3Ed,CLwBA,CpBmDiB,MoBnDV,CKxBK,ALwBJ,CpBmDiB,CAAC,GoBnDb,CAAC,CpBmDiB,EAAE,CAAC,IAAI,EoBnDd,GAAG,AM1BgC,C1B6Ef,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE,SoBlD3C,aAAa,wBAAmB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,8BAC9C,aAAa,wBAAmB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,YAC/D,CAAA;IKzBD,ACWA,Q1B+DQ,OAAO,CAAC,AoBhDhB,IpBgDoB,CAAC,EoBhDd,CAAC,CpBgDiB,A0B/Db,C1B+Dc,GoBhDb,CAAC,AMfU,M1B+DY,CAAC,CAAC,CAAE,AoBhDjB,CpBgDkB,CAAA,CoBhDf,MAAM,CAAA;QK1Bd,ACWlB,C1BgEK,WoB/CL,AMhBI,kBAAM,CDZsD,EL4B1D,EMhBS,CAAC,SAEf,aNcgB,CAAC,aAAa,CAAC,EAAA;AOxCpC,Q3BwFQ,AyBtDA,ACnBI,O1ByEG,MyBtDK,CzBsDE,CAAA,GyBtD8B,ACnB5B,CCfQ,EDeL,UAAC,MAAU;ACdtC,I3BwFI,CAAC,OyBvDG,AClBA,IAAM,EAAE,ENwBZ,CMxBe,GDmBP,ECnBW,CAAC,ENwBY,AOvCN,CPuCM,EMxBP,CAAC,EAAE,CAAA,MDmBd,KAAK,CAAC,SAcf;AE9CT,I3BwFW,QyBtDC,ACnBJ,IAAI,CDmBI,CAAC,ELIb,IAAI,EKJiB,GAAG,GLIZ,CKJgB,ALIf,CpBkDD,C0BzEI,CNuBA,AMvBC,C1ByEjB,AoBlDiB,IMvBI,CAAC,ENuBE,CAAC,EpBkDZ,A0BzEc,CAAC,ENuBE,EAAE,IOtCiB,MDeP,C1ByER,A0BzES,EAAE,EDmBH,CAC9B,UAAC,OAA8B,EAAE,QAAwB;AEjCzE,Q3BuFc,IAAA,IyBrDM,ACpBR,IDoBc,CzBqD4D,A0BzEtE,CAAC,C1ByEF,CoBlDP,EKHwB,CCpBV,CAAC,CDoBY,OAAO,CAAC,CAAC,CAAC,CAAC,ECpBT,C1ByEf,A0BzEgB,E1ByEd,A0BzEe,CNuBzB,CMvB2B,IDoBgB,ACpBhB,CDoBiB,CElCT,ADcN,KDoBqB,CAAA,ACpBf,QAAA,E1ByEhB,A0BzEiB,CAAC,C1ByEhB,A0BzEgB,8B1ByEJ,EAAE,gCAAa,EAAE,kCAAc,CAAQ;A2BtFtF,Q3BwFQ,K0B1EC,GDoBW,IAAM,ALGtB,IpBmDoB,CyBtDO,EzBsDJ,AoBnDhB,CKHuB,ALGtB,KAAK,CAAC,CKHuB,CAAC,CAAC,CAAC,CAAC,GzBsDZ,CAAC,CoBnDN,AOtBL,GPsBQ,GKHyB,CAAC,ELGpB,CAAA,EKHyB,CAAA,EzBsDZ,EAAE,aAAa,CAAC,CAAA;A2BxElE,Q3ByEQ,A0B1EJ,CAAC,CAAA,E1B0ES,IyBtDM,IAAI,ALGpB,EpBmDoB,MoBnDZ,CAAC,MAAM,CAAC,GKHY,CAAC,EzBsDF,CoBnDJ,CAAC,CKHS,ALGT,CKHU,GzBsDA,CAAC,CAAA,AyBtDI,CAAC,YEnBgB,EFmBF,CAAC,EAAE;AGzC7D,ADuBA,Q3ByEQ,A0BvEA,I1BuEM,C0BvEF,CAAC,MDiBW,CCjBJ,G1BuEM,A0BvEH,CDiBK,CAAC,CzBsDA,IAAI,AyBtDC,CAAC,EzBsDC,CAAC,SAAS,CAAC,A0BvEf,C1BuEe,AyBtDE,ACjBhB,CDiBiB,GEnBJ,CDER,CAAC,CDiBiB,CAAC,CAAA,ICjBX,CAAC,CAAA,kCEzBgD;ADwB/F,Q3ByEQ,IAAM,KyBtDO,UzBsDQ,GAAG,IAAI,GAAG,CAAC,YAAY,CAAC,CAAA,K2BzEX;ACtB1C,ADwBA,IDAI,CAAC,G1BwEG,IAAM,IyBtDM,IAAI,SzBsDO,E4BhGO,C5BgGJ,E4BhGe,EAAE,GH0CnB,AG1C8B,CH0C7B,KAAI,CAAC,KAAK,CAAC,WElBe,EFkBF,CAAC,EAAE,mBzBsDA,CAAC,cAAc,CAAC,CAAA;A2BvE5E,ICxBI,AFMA,GENG,C5BiGC,E4BjGE,IAAI,C5BiGC,A4BjGA,I5BiGI,A4BjGA,CH0CK,AG1CJ,GAAG,CAAC,CH0CI,AG1CH,CH0CI,KAAK,CAAC,CzBuDF,CACrB,E0B5FF,GAAN,MDoC4C,CAAC,IzBwDrB,CyBxD0B,CzByD1C,AyBzD2C,CAAA,SzByDjC,EACV,A2B5EgD,Y3B4EpC,EACZ,eAAe,EACf,iBAAiB,CACpB,CAAA;A2B9ET,AE5BA,CT6CC,GpB8DG,A4BvGA,C5BuGC,E4BvGE,CFMO,EENJ,EFMI,EENA,CAAC,EH0CM,GG1CD,CAAC,GAAG,CAAC,CAAC,CFMY,EAAvB,UAAE,CCkBoB,AE5BI,CHUtB,gBAAK,CAAc;ANAtC,AOoBA,AE7BA,I7B4GW,A4BxGP,IFMW,GENJ,CH0CK,ACpCD,CDoCE,CACJ,CAAA,AG3CE,CAAC,KAAK,CAAC,IAAI,CAAC,ECJI,CT4C9B,GpBgEc,A4BxGkB,CFMX,CENa,AFML,C1BkG1B,E4BxGkC,CAAC,GAAG,GAAG,C5BwG7B,E4BxGgC,GAAG,CAAC,CAAC,ADyBJ,CCzBK,E5BwGD,C4BxGI,C5BwGF,E4BxGK,CAAC,CAAC,Y5BwGc,2C4BxGyC;AACrH,ARyCA,AOhBA,AG/BA,ADGA,CDGC,GRyCK,IpB+DQ,A0BlGN,I1BkGM,AoB/DA,GAA8B,AMnC7B,INmCiC,EpB+DE,EAAnC,GoB/DwC,EAAE,CAAA,AU/C1B,MJYf,OAAO,IAAC,EAAE,AGTkB,EHShB,CCmBoB,CDnBlB,EAAE,C1BkGJ,EAAE,E0BlGO,EAAE,KAAK,EAAE,cAAc,EAAE,G1BkGpB,CAAQ,A0BlGgB,CAAC,YAAY,GAAG,CAAA;AEVlF,AD8BA,AG/BA,ADGA,IHSI,CAAC,G1BmGG,AyB/DA,CAAC,GzB+DK,YAAY,GAAG,IAAI,GAAG,EAAE,A8B/GD,C9B+GC,Y2BhFQ,KC1B7C,wBCFyE;AF6B1E,AG/BA,ADKA,IHsBA,I1BoFQ,AyBpGA,UzBoGU,CAAC,OAAO,A0BpFzB,C1BoF0B,CyBpGb,GAAN,MzBoGoB,EAAE,EAAE,I2BhFS,C3BgFJ,IAAK,OAAA,I8B/GM,Q9B+GM,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,EAA3B,CAA2B,CAAC,CAAA;A2B/EtE,ADLA,AI1BA,CJKA,AAqBC,CArBoC,EGDD,GHCM,C1B2GlC,A0B3GmC,IDM/B,SCN4C,G1B2GhC,A0BtFvB,G1BsF0B,eAAM,CAAC,E2BjFO,CE3BmC,ECJhC,W9BgHM,EAAE,GyBrGY,UzBqGC,CAAC,CAAA;A2BhFlE,AD3Ba,AIHb,IDoCI,I7B4EI,IAAM,AyBxGN,ezBwGqB,C6B5Eb,CJZP,CzBwFuB,G6B5EO,C7B4EH,GAAG,EAAE,CAAA,E0B7Gb,KC2Be,IG9BI;AH+B/C,ADDA,AI5BA,IJ4BM,AI5BA,I9B+GE,A6B7EJ,GHNS,C1BmFC,AyBtGF,ECmBI,AI5BA,ELSE,CKTmB,EAAE,CAAA,ADmC/B,CJ1Be,GAAe,GCmBR,CAAC,C1BmFA,CyBtGa,CAAC,CzBsGX,IAAI,CyBtGa,CACnC,AIyBF,EJzBI,EACF,CIwBG,CHP4B,AGO3B,CHP4B,CDjB5B,CAAC,KAAK,CEkBuB,AEsB5C,CJvCW,EAAC,GAAG,EAAE,SzBmGqC,CAAC,AyBnGrC,EAAO,IAAK,OAAA,KAAI,CAAC,SAAS,CAAC,EAAE,CAAC,EAAlB,CAAkB,EAAC,CAClC,CAAA;AEiBpB,AG7BA,IJ4BI,CI5BC,GJ4BG,AGOA,CCnCC,CJ4BC,AI5BA,E9B+GE,AyBlGA,AIsBE,CCnCD,CAAC,EAAE,ADmCE,CCnCD,ELaE,AIsBE,CCnCD,ILaI,CAAC,CKbC,E9B+GE,A8B/GA,CAAC,C9B+GC,C8B/GC,EAAE,CDmCN,CAAC,MJtBa,CAAC,CAAA,AEgBH,CEMF,CAAC,C7B4EQ,I6B5EH,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAA;AFLxF,IG7BI,IJ4BI,AGOA,I7B4EI,AyBlGA,EKbE,CJ4BC,AI5BA,EJ4BE,AGOA,C7B4EC,A6B5EA,CJtBC,AKbA,C9B+GC,A8B/GA,CAAC,CAAC,CDmCC,CJtBC,ACeA,AGOA,CJtBC,CIsBC,CAAC,G7B4EG,A8B/GA,ADmCA,C7B4EC,C8B/GC,CAAC,CAAA,ADmCC,CAAA,E7B4EG,GyBlGG,CAAC,CAAA,KEgByB;AAClE,CG7BC,OJ4BO,AGQA,C7B2EC,CAAC,CAAA,CyBjGE,AIsBA,GHRG,EAAE,AGQO,CAAA,CJtBL,KAAK,CAAC,CCcC,YDdY,CACtB,SAAS,EACT,KAAK,EACL,IAAI,AEYqC,CFZpC,KAAK,CAAC,QAAQ,CACtB,CAAA;AEYb,AG5BA,Q9B8GQ,AyB7FA,ACUA,AGSA,CJnBC,GImBG,EHTE,EAAE,AGSA,E7B0EE,CAAC,E6B1EE,CHTC,I1BmFI,CAAC,A6B1EA,EAAE,Q7B0EF,EAAE,4B2BlFkC;AAC/D,IG7B0B,ILuClB,ACXA,I1BmFI,A6B1EA,I7B0EM,A6B1EF,EHTE,EAAE,AGSA,GAAG,KHTK,C1BmFG,GAAG,A6B1EF,CAAC,GCjC/B,EDiCoC,CAAC,EAAE,CJEb,AIFc,E7B0EI,CAAC,AyBxEvC,CIFsC,E7B0EI,CAAC,EAAE,CAAC,CAAA,G6B1EE,CAAC,EAAC,EFRD,GEQM,EAAE,6CAAqB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAC,CAAC,CAAA;AFP/F,IGDI,CJAC,O1BmFO,AyBxEA,AIFA,I7B0EI,AyBxEA,CAAC,CKXD,GDSK,CAAC,CCTG,ELWA,CAAC,CIFC,CAAC,EAAE,CAAC,GAAG,EJEE,EzBwET,AyBxEW,AIFA,C7B0EV,AyBxEU,AIFA,a7B0EG,CAAC,U2BlFiB;AAC3D,CDDC,CAAC,CAAC,KDWK,AKZJ,CLYK,ACXA,EAAE,CAAC,AGSA,I7B0EI,C6B1EA,CAAC,CHTE,CAAA,AIAX,G9BmFc,A6B1EA,GAAG,EAAC,IAAI,MCThB,ADSgB,EAAE,GCTb,CAAC,ADSgB,MAAA,EAAC,CCHhC,ADGgC,8BFR0C;AAC/E,QFWgB,AKtBZ,CDmBK,G7B0EG,U8B7FA,GAAG,E9B6FY,CAAC,GAAG,AyBvEN,CzBuEO,EAAE,AyBvE1B,CKtBQ,C9B6FoB,K8B7FV,GLsBA,GAA+B,CzBuET,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,A2BlFH,C3BkFG;A2B/EzD,Y3BgFY,AyBvEA,AKtBJ,CDkBO,GJIC,AKtBJ,IAAI,CAAC,GAAG,CAAC,I9B6FQ,CAAC,C8B7FH,CAAC,GLsBJ,AKtBO,CLsBN,CKtBQ,CHaO,CGbL,CLsBN,CzBuEY,AyBvEX,CzBuEY,QyBvEH,CAAC,EAAE,CzBuEY,CAAC,GAAG,CAAC,EAAE,CAAE,EAAE,aAAa,CAAC,CAAA;A2B9E/E,Q3B+EQ,CAAC,CAAC,CAAA,C6B3EE,IJII,AKtBJ,ADkBM,IJIE,CAAC,AKtBL,ADkBO,CClBN,EDkBS,KJIG,CAAC,AKtBL,CAAC,CDkBQ,CClBP,ADkBQ,KAAK,CJID,AIJE,CJID,CIJG,CAAC,EJIA,AKtBN,CLsBO,CKtBL,CAAC,EAAC,CAAC,CAAA,GLsBW,CAAC,CAAA;IERrB,I3BiF1B,K8B9FC,E9B8FM,CyBxEC,GzBwEG,A6B5EA,CJIC,CAAC,SAAS,GzBwEG,AyBxEA,CzByErB,U2BlFmD,M3BkFnC,AyBzEY,AIJQ,CJIR,kBzB0ExB,UAAU,GACd,YAAY,C6B/E6C,C7BgFzD,A6BhF0D,GAAG,EAAE,GAAG,CAAG,CAAA,K7BgFtD,EACf,iBAAiB,CACpB,CAAA;IACL,A2BxCA,C3BwCC,O6BlFO,CJIC,IKvBE,GDmBK,CAAC,KF0CL,AE1CU,CAAC,EAAE,CAAC,CF0CF,EE1CK,KAAK,CAAA;I7BoF3B,I2B1CP,IFrCQ,AIJA,IJII,AKvBJ,CDmBI,CAAC,EF0CT,CG7DQ,CAAC,CDmBK,GAAG,EAAC,ECnBD,CAAC,CDmBI,CCnBH,E9BsGV,GAAb,AyB/EuB,AEsCb,AE1CgB,CJIF,CIJI,EJID,CAAC,AEsCb,CAAC,AG7DkB,CLuBJ,AIJG,CCnBG,E9BsGtB,G8BtG0B,CAAC,ADmBR,CFuDhC,CEvDiC,CAAA,ECnBY,CAAC,MAAM,C9BsGK,E8BtGF,CAAC,EAAC,CAAC,CAAA;Q9BuGjD,A2BwCO,CE3HZ,G7BmFK,C8BtGL,GLuBO,EEuHS,G3BxCsC,A2BwCrB,E3BxC3B,AyB/EO,EEuHwB,sB3BxCtB,EAAE,G2BwCgC,EAAE,CAAA,c3BxC3B,EAAE,kCAAc,EAAE,cAAI,CAAQ;QAEvD,A2B0Ca,AGjJjB,CAAC,CAAA,GLuBQ,SE0HgB,G3B1CJ,A2B0CO,C3B1CN,OAAO,CAAC,UAAA,EAAE,c2B0CY,CAAU,aAAa,CAAC,CAAA;IE9HpE,CAAC,GF+HgB,AG9Ib,I9BoGI,AyBhFA,CKpBA,CAAC,E9BoGG,AyBhFE,GAAG,AKpBH,CH8IS,EF1HM,AKpBZ,CH8IS,E3B1CL,AyBhFW,CzBgFV,GAAG,CAAC,EAAE,CAAC,IyBhFe,KAAK,CAAC,SAAS,ME0HjB,CAAQ,WAAW,CAAC,CAAA;IEjL9D,IFyOiB,IGrMT,I9BoGI,AyBhFA,CAAC,AKpBA,CLoBC,CKpBC,G9BoGG,G8BpGG,C9BoGC,AyBhFA,AKpBA,CLoBC,EEiLS,GAAmB,IAAI,AGrMvB,ELoBE,CAAC,GAAG,CAAC,GIxDtB,GAAjB,C7BwI8C,CAAC,EAAE,CAAC,CAAA,c2BiGoB,CAAC,CAAC,CAAC,CAAA;Q3BhGrE,A2B9CA,AE3FJ,C7ByIK,CAAC,CAAA,C8BpGE,CHsDA,CAAC,EFlCG,CAAC,CAAC,AKpBA,EAAE,CLoBC,CAAA,AEkCA,GAAG,AEnFnB,CC6BqB,CAAC,WAAW;Q9BsG9B,A6B1IA,IJyDI,AEkCA,AGtDA,ADrCA,CAAC,GJyDG,KEkCK,AE3FA,EF2FE,AGtDA,CDrCC,CCqCC,CAAC,KHsDK,CAAC,GFlCR,AIzDW,CJyDV,AIzDW,GJyDR,CAAC,EAAE,GEkCc,CAAC,KAAK,CAAC,a3B+CjB,CAAC,cAAc,EAAE,iBAAiB,CAAC,MAAM,CAAC,CAAA;QACrE,C8BrGC,CAAA,EHsDG,AE3FA,G7B0IG,CAAC,AyBjFA,AIzDA,GF2FG,C3B+CC,AyBjFA,CAAC,AEkCA,AE3FD,CAAC,K7B0Ib,A6B1IkB,CAAC,CJyDE,AEkCA,CFlCC,AEkCA,EE3FC,E7B0IhB,GyBjFsB,AIzDD,CJyDE,GAAG,CAAC,CAAA,AEkCC,AE3FD,CF2FE,KAAK,CAAC,G3B+C1B,iBAAiB,GAAC;QAClC,I2B/CI,IFlCI,AIzDA,IJyDI,AEkCA,CFlCC,CEkCC,CE3FA,E7B0IG,CAAC,A2B/CA,GAAG,CFlCC,CEkCyB,E3B+CtB,AyBjFA,CzBiFC,EyBjFE,CAAA,OzBiFD,EAAE,EAAE,KAAK,IAAK,OAAA,SAAS,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,GAAG,IAAI,CAAC,EAA/B,CAA+B,CAAC,CAAA;IAC7E,A8BtGA,C9BsGC,A8BtGA,IHuDI,CAAA,EE3FG,CJyDC,GIzDK,IAAI,GAAG,UAAU,CAAC,EAAC,KAAK,EAAE,6CAAqB,CAAC,CAAC,EAAE,EAAE,CAAC,EAAC,CAAC,CAAA;I7B4I/D,A8BvIP,ILqDI,AEmCA,CFnCC,GEmCK,AE5FF,MF4FQ,GAAG,AE5FF,CAAC,GCIZ,EDJgB,CCItB,ADJuB,KAAK,CAAC,C7B2IhB,C6B3IkB,CAAC,C7B2IhC,E6B3ImC,IAAI,CAAA,G7B2IzB,I2B/CmB,CAAC,I3B+CmB,E2B/Cb,CAAC,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAA;Q3BgD9E,AyBlFV,AEmCI,AGxFM,I9BuIA,A2B/CA,AGxFA,ADJF,KAAI,CJyDX,AIzDY,G7B2I6C,EAA/C,A2B/CU,GAAG,AE5FH,CCI8B,ADJ7B,ECIX,ADJY,IAAI,MAAA,EAAC,CAAC,CAAA,ECIb,E9BuII,A8BvIF,E9BuII,U2B/CiB,CAAC,KAAI,AGxFpB,CHwFqB,CGxFnB,IHwFwB,CAAC,O3B+CjB,EAAE,E2B/C0B,EAAE,KAAI,CAAC,IGxFhC,CHwFqC,AGxFvB,CHwFwB,MAAM,CAAC,CAAA,U3B+ChC,CAAQ;IyBlF1D,CA3DA,AA2DC,CA3DiB,EzB+Id,A2BhDA,AGvFA,ADLA,CAAC,EJHkB,AIGhB,CJHiB,AE+Fd,GGvFC,E9BuIE,A2BhDE,C3BgDD,E2BhDI,K3BgDG,AyB/IgB,CzB+If,EyBpFrB,OEoCuB,AGvFZ,C9BuIU,A2BhDG,K3BgDE,A2BhDG,CAAC,KAAK,EAAE,OE5FV,CAAC,EF4FS,EE5FL,CCKT,CDLW,CF4FQ,GE5FJ,CF4FQ,AE5FP,CAAC,CAAA,KF4FM,MAAM,CAAC,CGvF7B,MHuFoC,CAAC,AGvF9B,EAAE,GHuFiC,CAAC,EAArB,CAAqB,CAAC,CAAA,sBGvFrB,IACnB,EAAC,KAAK,OAAA,EAAE,MAAM,QAAA,EAAE,UAAU,YAAA,EAAE,WAAW,aAAA,EAAC,IAC5C,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAG,CAAA;ILmDnD,AKlDA,ADPA,CCOC,ADPA,GJyDG,AEmCA,CFnCC,GzBmFU,A2BhDL,I3BgDK,E2BhDC,GAAG,GFnCN,CAAC,IzBmFG,EAAE,GyBnFI,CAAC,CEmCC,CFnCC,AEmCI,e3BgDL,A2BhDW,C3BgDF,A2BhDG,KAAK,EAAE,UAAA,KAAK,IAAI,OAAA,KAAK,CAAC,MAAM,GAAG,WAAW,EAA1B,CAA0B,CAAC,EAAE,CAAC,CAAC,CAAA;IGnFpF,ADPA,IJwDI,AEmCA,I3BiDI,A2BjDE,QAAQ,GAAG,C3BiDD,CAAC,GAAG,AyBpFA,CzBoFC,AyBpFA,EzBoFE,CyBpFC,CzBoFC,CyBpFC,EKjDb,G9BqIkB,A8BrInC,C9BqIoC,CAAA,EyBpFU,CAAC,CAAA,IIxD3B,CF2Fa,CAAC,CE3FlC,KF2FwC,EAAE,CAAC,EAAE,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,CAAA;KFlCjE,GEmCG,AGrFJ,ADNI,I7B4II,C2BjDA,CAAC,KAAK,EE3FG,CF2FA,AE3FC,EF2FA,CG/EjB,C9BgIqB,A6B5IA,C7B4IC,A6B5IA,GF2FC,KE3FO,CAAC,CAAA,C7B4IE,A2BjDV,C3BiDW,C2BjDT,MAAM,E3BiDY,CAAC,GAAG,CAAC,C2BjDjB,C3BiDmB,CAAE,A2BjDnB,E3BiDqB,MAAM,A2BjDnB,C3BiDoB,CAAA,Q2BjDpB,EAAE,aAAa,EAAE,IAAI,EAAC,CAAA;IFjChE,AIzDA,CAAC,G7B4IG,A8BtIA,C9BsIC,CAAC,CAAA,AyBnFC,GAAG,AKnDA,CLmDA,AKnDC,gBAAgB,CAAC,QAAQ,EAAE;ALoD1C,CAAC,GzBmFG,A2BlDA,AEzFA,C7B2IC,A2BlDA,OGpFO,IAAM,KAAK,GAAG,MAAM,CAAC,IDLvB,GAAN,GCKuC,CAAA;ALlB3C,IzB0JI,A2BjHO,IE3BH,ICKI,GDLG,CCKG,MAAM,GAAG,C9BuIZ,IyBrFd,CKlDgC,CAAC,CHsBjB,GAAb,OGtByC,CAAA,ADLzB,KAAK,EAAE,O7B4IR;Q2BhHL,IAAA,AGtBF,C9BsIR,G6B3IQ,CCKI,CAAC,KDLE,EAAE,CCKI,C9BsIO,A8BtIN,EAAC,GDLC,E7B2IW,A8BtIP,I9BsIW,A2BhH0D,C3BgHzD,C2BhH7B,CGtBiB,EAAE,G9BsIiB,CAAC,E8BtIZ,I9BsIkB,CAAA,CAAC,CAAC,C8BtIpB,EAAC,CAAC,CAAA,CHsBnB,EAAE,gCAAa,EAAE,0BAAU,EAAE,0BAAU,EAAE,8BAAY,CAAyB;QACvF,AGtBN,CAAC,CAAC,CAAA,CHsBI,IE3BF,KF2BiD,AE3B5C,EF2BF,AE3BI,IAAI,CAAC,KAAK,CAAC,KF2BV,AE3Be,EF2Bb,gBAAK,EAAE,sBAAQ,EAAE,kCAAc,CAAQ;IGrBzD,CAAC,GHsBU,IAAA,IE3BH,eAAe,EAAE,EF2BP,EAAE,GE3BY,gBF2BP,EAAE,qBAAM,CAAS;IGJ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","file":"9da1f22267b6c295272a7b7fd7c852e0.map","sourcesContent":["export function existing<T>(maybe: T | nothing): maybe is NonNullable<T> {\n    return typeof maybe !== 'undefined' && maybe !== null\n}\nexport function notExisting<T>(maybe: Maybe<T>): maybe is nothing {\n    return !existing(maybe)\n}\n\n","import FastBinaryIndexedTree from 'fast-binary-indexed-tree'\n\nexport function cloneFastBinaryIndexedTree(source: FastBinaryIndexedTree): FastBinaryIndexedTree {\n    const target = new FastBinaryIndexedTree({\n        defaultFrequency: source.defaultFrequency,\n        maxVal: source.maxVal\n    })\n\n    target['_tree'] = {...source['_tree']}\n    target['_countNeg'] = source['_countNeg']\n\n    return target\n}\n","import {notExisting} from '../typecheck/existing'\n\nexport function ensure<A>(maybe: Maybe<A>, defaultValue: A): A {\n    return notExisting(maybe) || Number.isNaN(maybe) ? defaultValue : maybe\n}\n\n","import FastBinaryIndexedTree = require('fast-binary-indexed-tree')\n\nexport function expandFastBinaryIndexedTree(\n    source: FastBinaryIndexedTree,\n    increasedSize: number\n): void {\n    increasedSize = Math.round(increasedSize)\n    if (increasedSize <= 0)\n        return\n\n    const emptyTree = new FastBinaryIndexedTree({\n        maxVal: source.maxVal + increasedSize,\n        defaultFrequency: source.defaultFrequency\n    })\n\n    source['_maxVal'] = emptyTree['_maxVal']\n    if (source['_msb'] !== emptyTree['_msb']) {\n        source['_msb'] = emptyTree['_msb']\n    }\n}\n","export const nothing: nothing = null\n","import FastBinaryIndexedTree from 'fast-binary-indexed-tree'\nimport {notExisting} from '../typecheck/existing'\nimport {cloneFastBinaryIndexedTree} from '../utils/cloneFastBinaryIndexedTree'\nimport {ensure} from '../utils/ensure'\nimport {expandFastBinaryIndexedTree} from '../utils/expandFastBinaryIndexedTree'\nimport {nothing} from '../utils/nothing'\nimport {ListItemID, ListItemPosition, ListItemShape, ListLayout} from './ListLayout'\n\nexport class ListLayoutImpl implements ListLayout {\n    public static create(itemIDs: ReadonlyArray<ListItemID>,\n                         defaultHeight: px = 100,\n                         heights: ReadonlyMap<ListItemID, px> = new Map()): ListLayout {\n        const idToIndex = new Map()\n        itemIDs.forEach((id, index) => {\n            if (idToIndex.has(id))\n                throw new DuplicateListItemIDError(id)\n            idToIndex.set(id, index)\n        })\n\n        const prefixSumIndex = new FastBinaryIndexedTree({\n            defaultFrequency: defaultHeight,\n            maxVal: itemIDs.length\n        })\n\n        const knownHeights = new Map()\n        heights.forEach((height, id) => {\n            if (!idToIndex.has(id))\n                return\n            knownHeights.set(id, height)\n            prefixSumIndex.writeSingle(idToIndex.get(id)!, height)\n        })\n\n        return new ListLayoutImpl(\n            defaultHeight,\n            [...itemIDs],\n            idToIndex,\n            knownHeights,\n            prefixSumIndex\n        )\n    }\n\n    public getByID(id: ListItemID): Maybe<ListItemPosition> {\n        if (this.size === 0) { return nothing }\n        const index = this.idToIndex.get(id)\n        if (notExisting(index)) { return nothing }\n        const offset = this.prefixSumIndex.read(index)\n        const height = this.prefixSumIndex.readSingle(index)\n        return {id, index, offset, height}\n    }\n\n    public getByIndex(index: number): Maybe<ListItemPosition> {\n        if (this.size === 0) { return nothing }\n        const id = this.itemIDs[index]\n        if (notExisting(id)) { return undefined }\n        const offset = this.prefixSumIndex.read(index)\n        const height = this.prefixSumIndex.readSingle(index)\n        return {id, index, offset, height}\n    }\n\n    public getByIndexRange(from: number, to: number): Array<ListItemPosition> {\n        if (this.size === 0) {return []}\n        const fromItem = ensure<ListItemPosition>(this.getByIndex(from), this.getByIndex(0)!)\n        const toItem = ensure<ListItemPosition>(this.getByIndex(to), this.getByIndex(this.size - 1)!)\n        const results: Array<ListItemPosition> = []\n        for (let i = fromItem.index; i <= toItem.index; i++) {\n            results.push(this.getByIndex(i)!)\n        }\n        return results\n    }\n\n    public getByOffset(position: px): Maybe<ListItemPosition> {\n        if (this.size === 0) { return undefined }\n        let bound = this.prefixSumIndex.upperBound(position)\n        const index = bound === this.size ? bound - 1 : bound\n        const id = this.itemIDs[index]\n        const offset = this.prefixSumIndex.read(index)\n        const height = this.prefixSumIndex.readSingle(index)\n        return {id, index, offset, height}\n    }\n\n    public getByOffsetRange(from: px, to: px): Array<ListItemPosition> {\n        if (this.size === 0) {return []}\n        const fromItem = ensure<ListItemPosition>(this.getByOffset(from), this.getByIndex(0)!)\n        const toItem = ensure<ListItemPosition>(this.getByOffset(to), this.getByIndex(this.size - 1)!)\n        const results: Array<ListItemPosition> = []\n        for (let i = fromItem.index; i <= toItem.index; i++) {\n            results.push(this.getByIndex(i)!)\n        }\n        return results\n    }\n\n    public clone(newDefaultHeight?: px): ListLayout {\n        const {itemIDs, idToIndex, knownHeights, defaultHeight, prefixSumIndex} = this\n\n        newDefaultHeight = ensure(newDefaultHeight, defaultHeight)\n        const newItemIDs = [...itemIDs]\n        const newIDToIndex = new Map(idToIndex)\n        const newKnownHeights = new Map(knownHeights)\n        const newPrefixSumIndex = cloneFastBinaryIndexedTree(prefixSumIndex)\n\n        return new ListLayoutImpl(\n            newDefaultHeight,\n            newItemIDs,\n            newIDToIndex,\n            newKnownHeights,\n            newPrefixSumIndex\n        )\n    }\n\n    public join(newItemIDs: ReadonlyArray<ListItemID>, newDefaultHeight?: px): ListLayout {\n        const {defaultHeight, knownHeights} = this\n\n        const newIDToIndex = new Map()\n        newItemIDs.forEach((id, index) => newIDToIndex.set(id, index))\n\n        newDefaultHeight = ensure(newDefaultHeight, defaultHeight)\n\n        const newKnownHeights = new Map()\n        const newPrefixSumIndex = new FastBinaryIndexedTree({\n            defaultFrequency: newDefaultHeight,\n            maxVal: newItemIDs.length\n        })\n        newItemIDs.forEach(id => {\n            const currentHeight = knownHeights.get(id)\n            if (notExisting(currentHeight))\n                return\n            newKnownHeights.set(id, knownHeights.get(id))\n            newPrefixSumIndex.writeSingle(newIDToIndex.get(id)!, currentHeight)\n        })\n\n        return new ListLayoutImpl(\n            newDefaultHeight,\n            [...newItemIDs],\n            newIDToIndex,\n            newKnownHeights,\n            newPrefixSumIndex\n        )\n    }\n\n    public append(additionalItemIDs: ReadonlyArray<ListItemID>): void {\n        const {idToIndex, itemIDs, prefixSumIndex, size} = this\n\n        additionalItemIDs.forEach(id => {\n            if (idToIndex.has(id))\n                throw new DuplicateListItemIDError(id)\n        })\n\n        expandFastBinaryIndexedTree(prefixSumIndex, additionalItemIDs.length)\n        itemIDs.push(...additionalItemIDs)\n        additionalItemIDs.forEach((id, index) => idToIndex.set(id, index + size))\n    }\n\n    public update(newShapes: ReadonlyArray<ListItemShape>): void {\n        const {idToIndex, knownHeights, prefixSumIndex} = this\n\n        newShapes.forEach(shape => {\n            const {id, height} = shape\n\n            knownHeights.set(id, height)\n            prefixSumIndex.writeSingle(idToIndex.get(id)!, height)\n        })\n    }\n\n    public get size(): number { return this.itemIDs.length }\n\n    public get totalHeight(): px { return this.prefixSumIndex.read(this.itemIDs.length) }\n\n    private constructor(\n        private readonly defaultHeight: px,\n        private readonly itemIDs: Array<ListItemID>,\n        private readonly idToIndex: Map<ListItemID, number>,\n        private readonly knownHeights: Map<ListItemID, px>,\n        private readonly prefixSumIndex: FastBinaryIndexedTree\n    ) {}\n}\n\nexport class DuplicateListItemIDError extends Error {}\n","import {Observables} from './Observables'\nimport {Pipes} from './Pipes'\n\nexport function applyMiddleware<T extends object>(\n    origin: Observables<T>, pipes: Pipes<T>\n): Observables<T> {\n    return Object.keys(origin)\n        .map(key => ({[key]: pipes[key](origin[key])}))\n        .reduce((prev, curr) => Object.assign(prev, curr)) as any\n}\n","import {Subjects} from './Subjects'\n\nexport function createPublishers<T extends object>(subjects: Subjects<T>): EventHandlers<T> {\n    return Object.keys(subjects)\n        .map(key => ({[key]: (value: T[typeof key]) => subjects[key].next(value)}))\n        .reduce((prev, curr) => Object.assign(prev, curr)) as any\n}\n","import {Subject} from 'rxjs/Subject'\nimport {Subjects} from './Subjects'\n\nexport function createSubjects<T extends object>(names: ShapeOf<T>): Subjects<T> {\n    return Object.keys(names)\n        .map(key => ({[key]: new Subject()}))\n        .reduce((prev, curr) => Object.assign(prev, curr)) as any\n}\n","import {applyMiddleware} from './applyMiddleware'\nimport {createPublishers} from './createPublishers'\nimport {createSubjects} from './createSubjects'\nimport {Observables} from './Observables'\nimport {Pipes} from './Pipes'\n\nexport function createDispatcher<T extends object>(\n    middleware: Pipes<Required<T>>\n): Dispatcher<Required<T>> {\n    const subjects = createSubjects<Required<T>>(middleware)\n    return Object.assign(\n        {publish: createPublishers<Required<T>>(subjects)},\n        applyMiddleware<Required<T>>(subjects, middleware)\n    )\n}\n\nexport type Dispatcher<T extends object> = {\n    publish: EventHandlers<Required<T>>,\n} & Observables<Required<T>>\n\n","import {Observable} from 'rxjs/Observable'\n\nexport type Pipe<A, B=A> = (source: Observable<A>) => Observable<B>\n\nexport type Pass<T> = Pipe<T, T>\nexport const Pass = <T>(observable: Observable<T>): Observable<T> => observable\n\n","export function isFalse(value: any): value is false {\n    return value === false\n}\n","export function isTrue(value: any): value is true {\n    return value === true\n}\n","export function isFunction(a: any): a is Function {\n    return typeof a === 'function'\n}\n","import {notExisting} from '../typecheck/existing'\nimport {isFunction} from '../typecheck/isFunction'\nimport {nothing} from './nothing'\n\nexport function assume<A, B>(a: Maybe<A>, func: (a: A) => B): Maybe<B>\nexport function assume<A, B, C>(a: Maybe<A>, b: Maybe<B>, func: (a: A, b: B) => C): Maybe<C>\nexport function assume<T>(...params: Array<Maybe<any> | ((...p: Array<Maybe<any>>) => T)>): Maybe<T> {\n    const func = params[params.length - 1]\n    const funcParams = params.slice(0, params.length - 1)\n    if (!isFunction(func) || funcParams.length < 1 || funcParams.some(notExisting)) {\n        return nothing\n    }\n    return func(...funcParams)\n}\n","export function publishAll<T extends object>(value: T, handlers: EventHandlers<Required<T>>): void {\n    Object.keys(handlers).forEach(key => handlers[key](value[key]))\n}\n","export type Pulse = any\nexport let Pulse: Pulse = true\n","import {notExisting} from '../typecheck/existing'\nimport {nothing} from './nothing'\n\nexport function calcSum(array: Array<number>): number {\n    return array.reduce((acc, curr) => acc + curr, 0)\n}\n\nexport function calcAverage(array: Array<number>): Maybe<number> {\n    if (array.length === 0)\n        return nothing\n    return calcSum(array) / array.length\n}\n\nexport function nearestToAverage(array: Array<number>): Maybe<number> { // TODO better name\n    const average = calcAverage(array)\n    if (array.length === 0 || notExisting(average))\n        return nothing\n    const sorted = array.sort((a, b) => Math.abs(a - average) - Math.abs(b - average))\n    return sorted[0]\n}\n\nexport function calcDeviation(array: Array<number>): Maybe<number> {\n    const average = calcAverage(array)\n    if (array.length === 0 || notExisting(average))\n        return nothing\n    return calcAverage(array.map(num => Math.abs(num - average)))\n}\n\n\n","export async function forDuration(duration: ms): Promise<void> {\n    return new Promise<void>((then) => setTimeout(then, duration))\n}\n","export async function nextAnimationFrame(): Promise<undefined> {\n    return new Promise(resolve => requestAnimationFrame(resolve)) as Promise<any>;\n}\n","// https://stackoverflow.com/a/44078785/1815491\nexport function uniqueID() {\n    return Math.random().toString(36).substring(2)\n        + (new Date()).getTime().toString(36);\n}\n","// ignoring rotate\r\n\r\nexport function calcOutline(dom: Element): Outline {\r\n    const rect = dom.getBoundingClientRect()\r\n\r\n    const {width, height} = rect\r\n    const x = rect.left\r\n    const y = rect.top\r\n\r\n    return {x, y, width, height}\r\n}\r\n","import {notExisting} from '../typecheck/existing'\n\nexport function hasStyle(style: Maybe<string>): style is string {\n    return !(style === 'none' || style === '' || notExisting(style));\n}\n\n","import {applyToPoints} from 'transformation-matrix/applyToPoint'\nimport {fromString} from 'transformation-matrix/fromString'\nimport {inverse} from 'transformation-matrix/inverse'\nimport {hasStyle} from '../hasStyle'\nimport {calcOutline} from './calcOutline'\n\n// ignoring rotate\nexport function calcOutlineOrigin(dom: Element): Outline {\n    let outline: Outline = calcOutline(dom)\n\n    const transformCSS = window.getComputedStyle(dom).transform\n    if (hasStyle(transformCSS)) {\n        const {x, y, width, height} = outline\n        const transform = fromString(transformCSS)\n        const inverted = inverse(transform)\n        const [topLeft, bottomRight] =\n            applyToPoints(inverted, [{x, y}, {x: x + width, y: y + height}])\n        outline = {\n            x: topLeft.x,\n            y: topLeft.y,\n            width: Math.abs(bottomRight.x - topLeft.x),\n            height: Math.abs(bottomRight.y - topLeft.y)\n        }\n    }\n\n    return outline\n}\n","import {scale} from 'transformation-matrix/scale'\nimport {transform} from 'transformation-matrix/transform'\nimport {translate} from 'transformation-matrix/translate'\nimport {ensure} from '../../utils/ensure'\n\nexport function calcTransform(from: Outline, to: Outline, coefficient: number = 1): Matrix {\n    const withAnchor = (rect: Outline): [px, px] => {\n        return [\n            rect.x + rect.width * 0.5,\n            rect.y + rect.height * 0.5\n        ]\n    }\n    const [fromX, fromY] = withAnchor(from)\n    const [toX, toY] = withAnchor(to)\n\n    const translateX = (toX - fromX) * coefficient\n    const translateY = (toY - fromY) * coefficient\n    const scaleX =\n        ensure<number>((from.width + (to.width - from.width) * coefficient) / from.width, 1)\n    const scaleY =\n        ensure<number>((from.height + (to.height - from.height) * coefficient) / from.height, 1)\n\n    const matrix = transform(\n        translate(translateX, translateY),\n        scale(scaleX, scaleY)\n    )\n\n    return matrix\n}\n\n","import {inverse} from 'transformation-matrix/inverse'\r\nimport {toCSS} from 'transformation-matrix/toString'\r\nimport {isFunction} from '../../typecheck/isFunction'\r\nimport {forDuration} from '../../utils/forDuration'\r\nimport {nextAnimationFrame} from '../../utils/nextAnimationFrame'\r\nimport {uniqueID} from '../../utils/uniqueID'\r\nimport {calcOutline} from './calcOutline'\r\nimport {calcOutlineOrigin} from './calcOutlineOrigin'\r\nimport {calcTransform} from './calcTransform'\r\n\r\nexport async function tweenHere(\r\n    element: HTMLElement,\r\n    from: Outline | ((target: Outline, snapshot: Outline) => Outline) = snapshot => snapshot,\r\n    duration: ms | ((prev: Outline, curr: Outline) => ms) = 200,\r\n    easing: Easing = [0, 0, 1, 1]\r\n): Promise<void> {\r\n    const id = uniqueID()\r\n    tweening.set(element, id)\r\n\r\n    const snapshot = calcOutline(element)\r\n\r\n    element.style.transition = `none`\r\n    element.style.transform = `none`\r\n    const target = calcOutlineOrigin(element)\r\n    const origin = isFunction(from) ? from(target, snapshot) : from\r\n\r\n    const transform = calcTransform(origin, target)\r\n    element.style.transition = 'none'\r\n    element.style.transform = toCSS(inverse(transform))\r\n\r\n    await nextAnimationFrame()\r\n    if (tweening.get(element) !== id)\r\n        return\r\n    const tweenDuration = isFunction(duration) ? duration(origin, snapshot) : duration\r\n    element.style.transition = `\r\n        opacity ${tweenDuration}ms cubic-bezier(${easing.join(',')}),\r\n        transform ${tweenDuration}ms cubic-bezier(${easing.join(',')})\r\n    `\r\n    element.style.transform = 'none'\r\n\r\n    await forDuration(tweenDuration)\r\n    if (tweening.get(element) !== id)\r\n        return\r\n    element.style.transition = `none`\r\n    tweening.delete(element)\r\n}\r\n\r\nconst tweening: WeakMap<Element, TweenID> = new WeakMap()\r\n\r\ntype TweenID = string\r\n\r\n","import {ensure} from '../../../../utils/ensure'\n\nexport function calcFocusOffset(focusOffset: Maybe<px>, viewportHeight: px): px {\n    return ensure<px>(focusOffset, viewportHeight / 3)\n}\n","import {ListItemPosition, ListLayout} from '../../../../layouts/ListLayout'\nimport {existing} from '../../../../typecheck/existing';\n\nconst pageSize = 10\n\nexport function calcSegments(scroll: px, preload: px,\n                             height: px, layout: ListLayout): Array<ListItemPosition> {\n    const segments: Array<ListItemPosition> = []\n\n    const floorSeg = layout.getByOffset(\n        Math.max(\n            Math.min(\n                scroll - height,\n                scroll + preload\n            ),\n            0\n        )\n    )\n    const ceilSeg = layout.getByOffset(\n        Math.min(\n            Math.max(\n                scroll + height + height,\n                scroll + height + preload\n            ),\n            layout.totalHeight\n        )\n    )\n    if (existing(floorSeg) && existing(ceilSeg)) {\n        const fromIndex = Math.floor(floorSeg.index / pageSize) * pageSize\n        const toIndex = Math.min(\n            Math.ceil(ceilSeg.index / pageSize) * pageSize,\n            layout.size - 1\n        )\n        for (let index = fromIndex; index <= toIndex; index++) {\n            segments.push(layout.getByIndex(index)!)\n        }\n    }\n\n    return segments\n}\n","import {ListLayout} from '../../../../layouts/ListLayout'\nimport {notExisting} from '../../../../typecheck/existing'\nimport {assume} from '../../../../utils/assume'\n\nexport function projectScroll(scroll: px, focusOffset: px, from: ListLayout, to: ListLayout): px {\n    const prev = from.getByOffset(scroll + focusOffset)\n    const curr = assume(prev, prev => to.getByID(prev.id))\n    if (notExisting(prev) || notExisting(curr))\n        return scroll\n    const prevHeightBeforeFocus = scroll + focusOffset - prev.offset\n    const currHeightBeforeFocus = (prevHeightBeforeFocus / prev.height) * curr.height\n    return curr.offset - (focusOffset - currHeightBeforeFocus)\n}\n","import {ListItemShape, ListLayout} from '../../../../layouts/ListLayout'\nimport {existing} from '../../../../typecheck/existing'\nimport {assume} from '../../../../utils/assume'\nimport {SegmentID} from '../types/SegmentID'\n\nexport function updateLayoutIfNecessary(prevLayout: ListLayout,\n                                        alternateItemIDs: Maybe<ReadonlyArray<SegmentID>>,\n                                        updates: ReadonlyArray<ListItemShape>): ListLayout {\n    let newLayout = prevLayout\n\n    const areHeightsUpdated = updates.some(update =>\n        update.height !== assume(newLayout.getByID(update.id), it => it.height)\n    )\n    if (areHeightsUpdated) {\n        newLayout = newLayout.clone()\n        newLayout.update(updates)\n    }\n\n    if (existing(alternateItemIDs)) {\n        newLayout = newLayout.clone()\n        newLayout.join(alternateItemIDs)\n    }\n\n    return newLayout\n}\n\n","import * as React from 'react'\nimport * as ReactDOM from 'react-dom';\nimport ResizeObserver from 'resize-observer-polyfill'\nimport {isString} from 'util';\nimport {existing, notExisting} from '../../typecheck/existing'\nimport {nothing} from '../../utils/nothing'\nimport {PropsOf} from '../PropsOf';\nimport hoistNonReactStatics = require('hoist-non-react-statics')\n\nexport function measuring<C extends React.ComponentClass<any> | keyof React.ReactHTML>(\n    Component: C\n): Measuring<C> {\n    class HOC extends React.PureComponent<PropsOf<C> & MeasureProps> {\n        render() {\n            // TODO what if Component renders multiple elements?\n\n            const props: PropsOf<C> = Object.assign(\n                {},\n                this.props,\n                {ref: (it: any) => this.updateRef(it)}\n            ) as any\n            delete props['onHeightChange']\n            delete props['onWidthChange']\n\n            return React.createElement(\n                Component,\n                props,\n                this.props.children\n            )\n        }\n\n        private observer: ResizeObserver\n        private observing: Maybe<Element>\n\n        constructor(props: PropsOf<C> & MeasureProps) {\n            super(props)\n\n            this.observer = new ResizeObserver(\n                (entries: ResizeObserverEntry[], observer: ResizeObserver) => {\n                    const height = entries[0].contentRect.height\n                    const width = entries[0].contentRect.width\n                    if (existing(this.props.onHeightChange)) {\n                        this.props.onHeightChange(height)\n                    }\n                    if (existing(this.props.onWidthChange)) {\n                        this.props.onWidthChange(width)\n                    }\n                }\n            )\n        }\n\n        componentWillUnmount() {\n            this.observer.disconnect()\n        }\n\n        private updateRef(ref: Maybe<React.ReactInstance>) {\n            if (existing(this.observing)) {\n                this.observer.unobserve(this.observing)\n                this.observing = nothing\n            }\n            if (notExisting(ref)) {\n                return\n            }\n            const dom: Element = ref instanceof React.Component\n                ? ReactDOM.findDOMNode(ref)\n                : ref\n            if (existing(dom)) {\n                this.observer.observe(dom)\n                this.observing = dom\n            }\n        }\n    }\n\n    if (!isString(Component)) {\n        hoistNonReactStatics(HOC, Component as any)\n    }\n\n    return HOC\n}\n\nexport type Measuring<T extends React.ComponentClass<any> | keyof React.ReactHTML> =\n    React.ComponentClass<PropsOf<T> & MeasureProps>\n\ntype MeasureProps = SelfDecideHeight & SelfDecideWidth\n","import sharedInstance from 'jss'\nimport * as React from 'react';\nimport {ListItemShape} from '../../../layouts/ListLayout'\nimport {measuring, Measuring} from '../../../react/measure/measuring'\nimport {PropsOf} from '../../../react/PropsOf';\nimport {existing} from '../../../typecheck/existing'\nimport {Segment} from './types/Segment'\n\nexport class MeasuredSegment extends React.PureComponent<Props> {\n    render() {\n        const {id, width} = this.props\n        const {Segment} = this\n        return <Segment id={id} width={width} onHeightChange={this.reportHeight}/>\n    }\n\n    private reportHeight = (height: px) => {\n        const id = this.props.id\n\n        if (existing(this.props.onHeightChange)) {\n            this.props.onHeightChange({id, height})\n        }\n    }\n\n    constructor(props: Props) {\n        super(props)\n        this.Segment = measuring(props.Segment)\n    }\n\n    private Segment: Measuring<Segment>\n}\n\ntype Props = PropsOf<Segment>\n    & { Segment: Segment }\n    & { onHeightChange: EventHandler<ListItemShape> }\n\nconst classes = sharedInstance.createStyleSheet({\n    mask: {\n        display: 'block',\n        contain: 'content',\n        height: 'auto',\n        willChange: 'height'\n    }\n}).attach().classes\n","import sharedInstance from 'jss'\r\nimport * as React from 'react'\r\nimport {CSSProperties} from 'react'\r\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport {interval} from 'rxjs/observable/interval'\r\nimport {\r\n    bufferCount,\r\n    bufferTime,\r\n    combineLatest,\r\n    distinctUntilChanged,\r\n    filter,\r\n    map,\r\n    merge,\r\n    pairwise,\r\n    sampleTime,\r\n    scan,\r\n    shareReplay,\r\n    startWith,\r\n    timestamp,\r\n    withLatestFrom\r\n} from 'rxjs/operators'\r\nimport {animationFrame} from 'rxjs/scheduler/animationFrame'\r\nimport {Subscription} from 'rxjs/Subscription'\r\nimport {Memoize} from 'typescript-memoize'\r\nimport {ListItemPosition, ListItemShape, ListLayout} from '../../layouts/ListLayout'\r\nimport {ListLayoutImpl} from '../../layouts/ListLayoutImpl'\r\nimport {createDispatcher} from '../../rxjs/createDispatcher'\r\nimport {Pass} from '../../rxjs/Pipe';\r\nimport {Pipes} from '../../rxjs/Pipes'\r\nimport {existing} from '../../typecheck/existing'\r\nimport {isFalse} from '../../typecheck/isFalse';\r\nimport {isTrue} from '../../typecheck/isTrue';\r\nimport {assume} from '../../utils/assume'\r\nimport {ensure} from '../../utils/ensure'\r\nimport {nothing} from '../../utils/nothing'\r\nimport {publishAll} from '../../utils/publishAll'\r\nimport {Pulse} from '../../utils/Pulse'\r\nimport {calcAverage, nearestToAverage} from '../../utils/statics';\r\nimport {tweenHere} from '../../view/tween-here/tweenHere'\r\nimport {calcFocusOffset} from './src/functions/calcFocusOffset'\r\nimport {calcSegments} from './src/functions/calcSegments'\r\nimport {projectScroll} from './src/functions/projectScroll'\r\nimport {updateLayoutIfNecessary} from './src/functions/updateLayoutIfNecessary'\r\nimport {MeasuredSegment} from './src/MeasuredSegment';\r\nimport {Segment} from './src/types/Segment'\r\nimport {SegmentID} from './src/types/SegmentID'\r\nimport deepEqual = require('deep-equal')\r\n\r\nexport class InfiniteList extends React.Component<Props, State> {\r\n    public render(): JSX.Element {\r\n        const {scrolled, heightUpdated, touchEnded, touchMoved, touchStarted} = this.actions$.publish\r\n        const {state, props, children, temporalScroll} = this\r\n        const {Segment, width, height} = props\r\n        const {segments, layout, useAutoLayout} = state\r\n\r\n        const paddingTop = useAutoLayout\r\n            ? <div key={'infinite-scroll-padding-top'}\r\n                   style={{height: existing(segments[0]) ? segments[0].offset : 0}}/>\r\n            : nothing\r\n\r\n        const contentStyle = {\r\n            width,\r\n            height: layout.totalHeight,\r\n            transform: temporalScroll === 0\r\n                ? 'none'\r\n                : `translateY(${-temporalScroll}px)`\r\n        }\r\n        const segmentStyle = (offset: px): CSSProperties => {\r\n            return useAutoLayout\r\n                ? {position: 'relative'}\r\n                : {position: 'absolute', top: `${offset}px`}\r\n        }\r\n\r\n        return <div className={classes.container} style={{width, height}}\r\n                    ref={ref => existing(ref) ? children.container = ref : nothing}\r\n                    onScroll={scrolled}\r\n                    onTouchStartCapture={touchStarted}\r\n                    onTouchEndCapture={touchEnded}\r\n                    onTouchMoveCapture={touchMoved}>\r\n            <div className={classes.content} style={contentStyle}\r\n                 ref={ref => existing(ref) ? children.content = ref : nothing}>\r\n                {paddingTop}\r\n                {segments.map(spec =>\r\n                    <div key={spec.id} className={classes.segment}\r\n                         style={segmentStyle(spec.offset)}\r\n                         ref={ref => existing(ref)\r\n                             ? children.segments.set(spec.id, ref)\r\n                             : children.segments.delete(spec.id)}>\r\n                        <MeasuredSegment {...{id: spec.id, Segment, width}}\r\n                                         onHeightChange={heightUpdated}/>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    constructor(props: Props) {\r\n        super(props)\r\n        this.children = {\r\n            container: document.createElement('div'),\r\n            content: document.createElement('div'),\r\n            segments: new Map<SegmentID, HTMLElement>()\r\n        }\r\n\r\n        const layout = ListLayoutImpl.create(props.segmentIDs, Math.round(props.height / 6))\r\n        const focusOffset = calcFocusOffset(this.props.focusOffset, this.props.height)\r\n        const focus = assume(props.focus, focus => layout.getByID(focus))\r\n        const scroll = ensure<px>(assume(focus, focus => focus.offset - focusOffset), 0)\r\n        const segments = calcSegments(scroll, 0, props.height, layout)\r\n        this.state = {scroll, layout, segments, useAutoLayout: true}\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.children.container.scrollTop = this.state.scroll\r\n        this.work.add(this.updateState())\r\n        this.work.add(this.adjustScroll())\r\n        this.work.add(this.focusOnSegment())\r\n        this.work.add(this.callEventHandlers())\r\n        publishAll<Props>(this.props, this.props$.publish)\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Props, prevState: State) {\r\n        const {props, state, children} = this\r\n\r\n        if (prevProps !== props) {\r\n            publishAll<Props>(this.props, this.props$.publish)\r\n        }\r\n\r\n        if (prevState.layout !== state.layout) {\r\n            const {containerScroll, temporalScroll} = this\r\n            const prevScroll = containerScroll + temporalScroll\r\n\r\n            const focusOffset = calcFocusOffset(this.props.focusOffset, this.props.height)\r\n            const currScroll = Math.min(Math.max(projectScroll(\r\n                prevScroll, focusOffset,\r\n                prevState.layout, state.layout\r\n            ), 0), state.layout.totalHeight - props.height)\r\n\r\n            if (Math.abs(this.velocity) <= 0.01) {\r\n                this.temporalScroll = 0\r\n                this.containerScroll = currScroll\r\n            } else {\r\n                this.temporalScroll = Math.ceil(currScroll - containerScroll)\r\n            }\r\n\r\n            if (!state.useAutoLayout && !prevState.useAutoLayout) {\r\n                Array.from(children.segments.entries())\r\n                    .forEach(([segmentID, element]) => {\r\n                        const prev = prevState.layout.getByID(segmentID)\r\n                        const curr = state.layout.getByID(segmentID)\r\n\r\n                        if (!existing(prev) || !existing(curr))\r\n                            return\r\n\r\n                        const prevScreenOffset = prev.offset - prevScroll\r\n                        const currScreenOffset = curr.offset - currScroll\r\n                        if (prevScreenOffset === currScreenOffset)\r\n                            return\r\n\r\n                        tweenHere(\r\n                            element,\r\n                            (target, snapshot) => {\r\n                                return {\r\n                                    ...target,\r\n                                    y: prevScreenOffset - (target.y - snapshot.y)\r\n                                }\r\n                            },\r\n                            200,\r\n                            [0.445, 0.05, 0.55, 0.95]\r\n                        )\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.work.unsubscribe()\r\n    }\r\n\r\n    private readonly work: Subscription = new Subscription()\r\n\r\n    private readonly children: Children\r\n\r\n    private readonly actions$ = createDispatcher<Actions>(actionsFilter)\r\n    private readonly props$ = createDispatcher<Props>(propsFilter)\r\n\r\n    @Memoize()\r\n    private get height$(): Observable<px> {\r\n        const {height} = this.props$\r\n\r\n        return height.pipe(\r\n            startWith(this.props.height),\r\n            distinctUntilChanged(),\r\n            // log$('height'),\r\n            shareReplay(1)\r\n        )\r\n    }\r\n\r\n    @Memoize()\r\n    private get layout(): Observable<ListLayout> {\r\n        const {segmentIDs} = this.props$\r\n        const {heightUpdated} = this.actions$\r\n\r\n        const updates: Observable<Array<ListItemShape>> = heightUpdated.pipe(\r\n            bufferTime(0, animationFrame),\r\n            filter(buffer => buffer.length > 0)\r\n        )\r\n\r\n        return segmentIDs.pipe(\r\n            scan<Array<SegmentID>, Maybe<Array<SegmentID>>>((prev, curr) =>\r\n                curr === prev ? nothing : curr\r\n            ),\r\n            combineLatest(updates),\r\n            scan<[Maybe<Array<SegmentID>>, Array<ListItemShape>], ListLayout>(\r\n                (layout, [alternateItemIDs, updates]) =>\r\n                    updateLayoutIfNecessary(layout, alternateItemIDs, updates),\r\n                this.state.layout\r\n            ),\r\n            startWith(this.state.layout),\r\n            distinctUntilChanged(),\r\n            // log$('layout'),\r\n            shareReplay(1)\r\n        )\r\n    }\r\n\r\n    private get temporalScroll(): px {\r\n        const {temporalScroll$} = this\r\n        return (temporalScroll$ as BehaviorSubject<px>).getValue()\r\n    }\r\n\r\n    private set temporalScroll(scroll: px) {\r\n        const {temporalScroll$} = this\r\n        const {content} = this.children;\r\n\r\n        (temporalScroll$ as BehaviorSubject<px>).next(scroll)\r\n        content.style.transform = scroll === 0\r\n            ? 'none'\r\n            : `translateY(${-scroll}px)`\r\n    }\r\n\r\n    private readonly temporalScroll$: Observable<px> = new BehaviorSubject(0)\r\n\r\n    private get containerScroll(): px {\r\n        const {container} = this.children\r\n        return container.scrollTop\r\n    }\r\n\r\n    private set containerScroll(scroll: px) {\r\n        const {container} = this.children\r\n        container.style['-webkit-overflow-scrolling'] = 'auto'\r\n        container.scrollTop = scroll\r\n        container.style['-webkit-overflow-scrolling'] = 'touch'\r\n    }\r\n\r\n    @Memoize()\r\n    private get containerScroll$(): Observable<px> {\r\n        const {scrolled, touchStarted, touchEnded} = this.actions$\r\n\r\n        const shouldSample: Observable<Pulse> = scrolled.pipe(\r\n            merge(touchStarted),\r\n            merge(touchEnded),\r\n            merge(interval(0, animationFrame)),\r\n            timestamp(),\r\n            distinctUntilChanged((prev, curr) => curr.timestamp - prev.timestamp < 100),\r\n            sampleTime(0, animationFrame),\r\n            startWith(Pulse)\r\n        )\r\n\r\n        return shouldSample.pipe(\r\n            map(() => this.containerScroll),\r\n            map(Math.round),\r\n            shareReplay(1)\r\n        )\r\n    }\r\n\r\n    @Memoize()\r\n    private get containerScrollVelocity$(): Observable<Velocity> {\r\n        const {containerScroll$} = this\r\n\r\n        const move = containerScroll$.pipe(\r\n            timestamp(),\r\n            // distinctUntilChanged((prev, curr) => curr.timestamp - prev.timestamp < 100),\r\n            pairwise()\r\n        )\r\n\r\n        return move.pipe(\r\n            map(([prev, curr]) =>\r\n                (curr.value - prev.value) / (curr.timestamp - prev.timestamp)\r\n            ),\r\n            startWith(0),\r\n            bufferCount(3, 1),\r\n            map(nearestToAverage),\r\n            filter(existing),\r\n            shareReplay(1)\r\n        )\r\n    }\r\n\r\n    @Memoize()\r\n    private get useAutoLayout$(): Observable<boolean> {\r\n        const {containerScrollVelocity$} = this\r\n\r\n        return containerScrollVelocity$.pipe(\r\n            map(Math.abs),\r\n            map(speed => speed > 3),\r\n            bufferCount(2, 1),\r\n            map(buffer => buffer.filter(isTrue).length > buffer.filter(isFalse).length),\r\n            distinctUntilChanged(),\r\n            // log$('useAutoLayout'),\r\n            shareReplay(1)\r\n        )\r\n\r\n    }\r\n\r\n    @Memoize()\r\n    private get scroll$(): Observable<Velocity> {\r\n        const {containerScroll$, temporalScroll$} = this\r\n\r\n        return containerScroll$.pipe(\r\n            withLatestFrom(temporalScroll$),\r\n            map(([container, temporal]) => container + temporal)\r\n        )\r\n    }\r\n\r\n    private get velocity(): Velocity {\r\n        return this['_velocity']\r\n    }\r\n\r\n    private updateState(): Subscription {\r\n        const {scroll$, layout, containerScrollVelocity$, height$, useAutoLayout$} = this\r\n\r\n        const preload$: Observable<px> = containerScrollVelocity$.pipe(\r\n            bufferCount(3, 1),\r\n            map(calcAverage),\r\n            filter(existing),\r\n            map(Math.round),\r\n            map(velocity => Math.max(Math.min(velocity * 500, 10000), -10000)),\r\n            distinctUntilChanged(),\r\n            // log$('preload'),\r\n            shareReplay(1)\r\n        )\r\n\r\n        const state: Observable<State> = scroll$.pipe(\r\n            combineLatest(preload$, useAutoLayout$, layout, height$),\r\n            map(([scroll, preload, useAutoLayout, layout, height]): State => {\r\n                const segments = calcSegments(scroll, preload, height, layout)\r\n                return {layout, segments, useAutoLayout, scroll}\r\n            }),\r\n            distinctUntilChanged((prev, curr) =>\r\n                prev.useAutoLayout === curr.useAutoLayout &&\r\n                prev.layout === curr.layout &&\r\n                deepEqual(prev.segments, curr.segments)\r\n            ),\r\n            startWith(this.state),\r\n            // tap(state=> console.log(state.useAutoLayout)),\r\n            shareReplay(1)\r\n        )\r\n\r\n        return state.subscribe(state => this.setState(state))\r\n    }\r\n\r\n    private adjustScroll(): Subscription {\r\n        const {containerScrollVelocity$} = this\r\n\r\n        const shouldApplyTemporalScroll: Observable<Pulse> = containerScrollVelocity$.pipe(\r\n            bufferCount(2, 1),\r\n            filter(buffer => !buffer.some(v => Math.abs(v) > 0.01))\r\n        )\r\n\r\n        return shouldApplyTemporalScroll.subscribe(() => {\r\n            const {temporalScroll, containerScroll} = this\r\n            if (temporalScroll === 0)\r\n                return\r\n            // console.log('adjusted')\r\n            this.containerScroll = containerScroll + temporalScroll\r\n            this.temporalScroll = 0\r\n        })\r\n    }\r\n\r\n    private focusOnSegment(): Subscription {\r\n        const {props$} = this\r\n\r\n        const newFocusSegment = props$.focus.pipe(\r\n            distinctUntilChanged(),\r\n            filter(existing),\r\n            map(focus => this.state.layout.getByID(focus)),\r\n            filter(existing)\r\n        )\r\n\r\n        return newFocusSegment.subscribe(segment => {\r\n            const focusOffset = calcFocusOffset(this.props.focusOffset, this.props.height)\r\n            const targetScroll = segment.offset - focusOffset\r\n            this.containerScroll = targetScroll\r\n            this.temporalScroll = 0\r\n        })\r\n    }\r\n\r\n    private callEventHandlers(): Subscription {\r\n        const {scroll$, layout} = this\r\n\r\n        const work = new Subscription()\r\n\r\n        work.add(scroll$.subscribe(scroll => {\r\n            if (existing(this.props.onScroll))\r\n                this.props.onScroll(scroll)\r\n        }))\r\n        work.add(layout.subscribe(layout => {\r\n            if (existing(this.props.onReflow))\r\n                this.props.onReflow(layout)\r\n        }))\r\n\r\n        return work\r\n    }\r\n}\r\n\r\ntype Props = {\r\n    segmentIDs: Array<SegmentID>\r\n    width: px\r\n    height: px\r\n    Segment: Segment\r\n    focus?: SegmentID\r\n    focusOffset?: px\r\n    onScroll?: EventHandler<px>\r\n    onReflow?: EventHandler<ListLayout>\r\n}\r\nconst propsFilter: Pipes<Required<Props>> = {\r\n    segmentIDs: distinctUntilChanged(),\r\n    width: distinctUntilChanged(),\r\n    height: distinctUntilChanged(),\r\n    Segment: distinctUntilChanged(),\r\n    focus: distinctUntilChanged(),\r\n    focusOffset: distinctUntilChanged(),\r\n    onScroll: distinctUntilChanged(),\r\n    onReflow: distinctUntilChanged()\r\n}\r\n\r\ntype State = {\r\n    scroll: px\r\n    layout: ListLayout\r\n    segments: Array<ListItemPosition>\r\n    useAutoLayout: boolean\r\n}\r\ntype Children = {\r\n    container: HTMLElement\r\n    content: HTMLElement\r\n    segments: Map<SegmentID, HTMLElement>\r\n}\r\n\r\ntype Actions = {\r\n    scrolled: React.SyntheticEvent<HTMLDivElement>\r\n    touchStarted: React.TouchEvent<HTMLDivElement>\r\n    touchMoved: React.TouchEvent<HTMLDivElement>\r\n    touchEnded: React.TouchEvent<HTMLDivElement>\r\n    heightUpdated: ListItemShape\r\n}\r\nconst actionsFilter: Pipes<Actions> = {\r\n    scrolled: Pass,\r\n    touchStarted: Pass,\r\n    touchMoved: Pass,\r\n    touchEnded: Pass,\r\n    heightUpdated: Pass\r\n}\r\n\r\nexport const classes = sharedInstance.createStyleSheet({\r\n    container: {\r\n        position: 'relative',\r\n        display: 'block',\r\n        'overflow-x': 'hidden',\r\n        'overflow-y': 'scroll',\r\n        'overflow-anchor': 'none', // https://stackoverflow.com/questions/42205462/disable-chromes-scroll-preserving-feature\r\n        'scroll-behavior': 'auto',\r\n        '-webkit-overflow-scrolling': 'touch',\r\n        contain: 'strict',\r\n        'will-change': 'transform', // https://bugs.chromium.org/p/chromium/issues/detail?id=514303\r\n        '-webkit-font-smoothing': 'subpixel-antialiased'\r\n    },\r\n    content: {\r\n        position: 'relative',\r\n        display: 'block',\r\n        contain: 'strict',\r\n        'will-change': 'transform, height'\r\n    },\r\n    segment: {\r\n        display: 'block',\r\n        'will-change': 'top, height'\r\n    }\r\n}).attach().classes\r\n\r\n","// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random\n\nexport function getRandomIntInclusive(min: number, max: number): number {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive\n}","import * as loremIpsum from 'lorem-ipsum'\r\nimport * as React from 'react';\r\nimport {PropsOf} from '../../../react/PropsOf';\r\nimport {ensure} from '../../../utils/ensure'\r\nimport {getRandomIntInclusive} from '../../../utils/getRandomIntInclusive'\r\nimport {Segment} from '../src/types/Segment';\r\n\r\nexport class SegmentExample extends React.Component<PropsOf<Segment>, State> {\r\n    componentDidMount() {\r\n        this.interval = setInterval(() => {\r\n            if (this.state.type !== 'text')\r\n                return\r\n            const text = loremIpsum({count: getRandomIntInclusive(3, 20)})\r\n            textCache[this.props.id] = text\r\n            this.setState({text})\r\n        }, getRandomIntInclusive(3000, 5000))\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval)\r\n    }\r\n\r\n    render() {\r\n        return <div style={{\r\n            display: 'block',\r\n            width: this.props.width,\r\n            backgroundColor: 'white',\r\n            wordWrap: 'break-word',\r\n            wordBreak: 'break-all'\r\n        }}>\r\n            <div>{this.props.id}</div>\r\n            <br/>\r\n            {\r\n                this.state.type === 'text'\r\n                    ? this.state.text\r\n                    : <img style={{width: this.props.width}} src={this.state.image}/>\r\n            }\r\n            <br/>\r\n        </div>\r\n    }\r\n\r\n    constructor(props: PropsOf<Segment>) {\r\n        super(props)\r\n        const type = ensure(typeCache[props.id], Math.random() > 0.2 ? 'text' : 'image')\r\n        typeCache[props.id] = type\r\n\r\n        let state: State\r\n\r\n        if (type === 'text') {\r\n            let text = textCache[props.id] || loremIpsum({count: getRandomIntInclusive(3, 20)})\r\n            textCache[props.id] = text\r\n            this.state = {type, text}\r\n        } else {\r\n            const image = imgCache[props.id]\r\n                || `https://picsum.photos/500/${getRandomIntInclusive(300, 800)}`\r\n            imgCache[props.id] = image\r\n            this.state = {type, image}\r\n        }\r\n    }\r\n\r\n    private interval: any\r\n}\r\n\r\nconst typeCache: { [id: string]: 'text' | 'image' } = {}\r\nconst textCache: { [id: string]: string } = {}\r\nconst imgCache: { [id: string]: string } = {}\r\n\r\ntype State = { type: 'text', text: string }\r\n    | { type: 'image', image: string }\r\n\r\n\r\n","import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom'\r\nimport ErrorBoundary from 'react-error-boundary'\r\nimport {InfiniteList} from '../InfiniteList'\r\nimport {SegmentID} from '../src/types/SegmentID'\r\nimport {SegmentExample} from './SegmentExample'\r\n\r\nconst segmentIDs: Array<SegmentID> = []\r\nfor (let i = 0; i < 100000; i++) {\r\n    segmentIDs.push(i.toString())\r\n}\r\n\r\nexport class Demo extends React.Component<{}, {\r\n    width: number,\r\n    height: number,\r\n    focusOffset: number\r\n}> {\r\n    render() {\r\n        const {width, height, focusOffset} = this.state\r\n\r\n        return <InfiniteList Segment={SegmentExample}\r\n                             {...{width, height, segmentIDs, focusOffset}}\r\n                             onScroll={this.onScroll}/>\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', () => {\r\n            const width = window.innerWidth\r\n            const height = window.innerHeight\r\n            this.setState({width, height})\r\n        })\r\n    }\r\n\r\n    onScroll = (scroll: px) => {\r\n        if (Math.abs(scroll) < 10) {\r\n            this.setState({focusOffset: 0})\r\n        } else {\r\n            this.setState({focusOffset: this.state.height / 3})\r\n        }\r\n    }\r\n\r\n    constructor(props: {}) {\r\n        super(props)\r\n        this.state = {\r\n            width: window.innerWidth,\r\n            height: window.innerHeight,\r\n            focusOffset: 0\r\n        }\r\n    }\r\n}\r\n\r\nconst root = document.getElementById('root')!\r\nReactDOM.render(\r\n    <ErrorBoundary FallbackComponent={({componentStack, error}) =>\r\n        <pre style={{width: window.innerWidth, wordBreak: 'break-all'}}>\r\n            {JSON.stringify(componentStack, null, 4)}\r\n            {JSON.stringify(error, null, 4)}\r\n        </pre>\r\n    }>\r\n        <Demo/>\r\n    </ErrorBoundary>,\r\n    root\r\n)\r\n\r\n"]}